"use strict";(self.webpackChunkSWP_Front=self.webpackChunkSWP_Front||[]).push([[127],{6127:(vt,C,s)=>{s.r(C),s.d(C,{AdminUserModule:()=>ft});var u=s(6814),d=s(1896),t=s(5879),v=s(8677),x=s(5717),y=s(459),p=s(2296),g=s(5195),Z=s(617);function q(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.viewDetails(r))}),t.TgZ(1,"mat-card",16)(2,"mat-card-content")(3,"div",0)(4,"div",6),t._uU(5,"Plant Name :"),t.qZA(),t.TgZ(6,"div",7)(7,"div",8),t._uU(8),t.qZA(),t.TgZ(9,"div",9),t._uU(10),t.qZA()(),t.TgZ(11,"div",17)(12,"button",18),t.NdJ("click",function(i){const c=t.CHM(e).$implicit;return t.oxw().updateToggleSidenav(c,"updatePlant"),t.KtG(i.stopPropagation())}),t._uU(13,"Update"),t.qZA(),t.TgZ(14,"button",19),t.NdJ("click",function(i){return i.stopPropagation()}),t._uU(15,"Delete"),t.qZA()()()()()()}if(2&o){const e=a.$implicit;t.xp6(8),t.Oqu(null==e?null:e.name),t.xp6(2),t.Oqu(null==e?null:e.location)}}let w=(()=>{class o{constructor(e,n,i,r){this.service=e,this.router=n,this.sidenavService=i,this.cookieService=r}ngOnInit(){this.organizationData(),this.plantsData()}updateToggleSidenav(e,n){this.sidenavService.toggleSidenav(),this.sidenavService.passData({data:e,type:n})}organizationData(){const e=this.service.retrieveOrganizationId();e?this.service.organizationData(e).subscribe(n=>{this.data=n[0]},n=>{console.error("Error fetching organization data:",n)}):console.warn("No organization ID found.")}plantsData(){const e=this.service.retrieveOrganizationId();e?this.service.plantsData(e).subscribe(n=>{this.plantData=n},n=>{console.error("Error fetching plants data:",n)}):console.warn("No organization ID found.")}viewDetails(e){this.router.navigate(["/ad/home/users/"+e.plant_id]),this.cookieService.set("_plant_id",e.plant_id,{path:"/"})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(v.l),t.Y36(d.F0),t.Y36(x.G),t.Y36(y.N))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-admin-user-home"]],decls:24,vars:3,consts:[[1,"container-fluid"],[1,"row","pt-2","mb-2"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"outer-card"],[1,"mt-2"],[1,"Linear-Approved"],[1,"card-title"],[1,"card-flex"],[1,"card-subtitle","pt-2"],[1,"card-subtitle2","pt-2"],[1,"outer-card","card-flex","mt-2"],[1,"mt-3"],["mat-icon-button","",1,"mt-2",3,"click"],[1,"row"],["class","col-xl-3 col-lg-3 col-md-4 col-sm-12 mt-2",3,"click",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-3","col-md-4","col-sm-12","mt-2",3,"click"],[1,"Approved"],[1,"mt-1","update-flex"],["mat-button","",2,"color","#135c18",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5,"Hello, User Name"),t.qZA()(),t.TgZ(6,"mat-card",5)(7,"mat-card-content")(8,"div",0)(9,"div",6),t._uU(10,"Organization Name :"),t.qZA(),t.TgZ(11,"div",7)(12,"div",8),t._uU(13),t.qZA(),t.TgZ(14,"div",9),t._uU(15),t.qZA()()()()(),t.TgZ(16,"div",10)(17,"h2",11),t._uU(18,"Plants"),t.qZA(),t.TgZ(19,"button",12),t.NdJ("click",function(){return i.updateToggleSidenav("","insertPlant")}),t.TgZ(20,"mat-icon"),t._uU(21,"add"),t.qZA()()(),t.TgZ(22,"div",13),t.YNc(23,q,16,2,"div",14),t.qZA()()()()),2&n&&(t.xp6(13),t.Oqu(null==i.data?null:i.data.name),t.xp6(2),t.Oqu(null==i.data?null:i.data.address),t.xp6(8),t.Q6J("ngForOf",i.plantData))},dependencies:[u.sg,p.lW,p.RK,g.a8,g.dn,Z.Hw],styles:[".title[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.outer-card[_ngcontent-%COMP%]{width:100%}.inner-card[_ngcontent-%COMP%]{height:50px;width:50px;display:flex;justify-content:center;align-items:center}.update-flex[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:-.75vh}.card-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:550}.card-subtitle[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:550;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-subtitle2[_ngcontent-%COMP%]{font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.icon-color[_ngcontent-%COMP%]{background:linear-gradient(to right,blue,green);-webkit-text-fill-color:transparent}.Approved[_ngcontent-%COMP%], .Linear-Approved[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#1b8f29,#135c18);border-image-slice:1}"]})}return o})();var m=s(5313),U=s(1476);function F(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.departmentsSelect(r))}),t.TgZ(2,"div",17)(3,"div",5)(4,"div",18)(5,"div",19),t._uU(6),t.qZA()(),t.TgZ(7,"div",18)(8,"div",20),t._uU(9),t.qZA()(),t.TgZ(10,"div",21)(11,"button",22),t.NdJ("click",function(i){const c=t.CHM(e).$implicit,_=t.oxw();return i.stopPropagation(),t.KtG(_.viewForms(c))}),t._uU(12,"Forms"),t.qZA(),t.TgZ(13,"button",23),t.NdJ("click",function(i){const c=t.CHM(e).$implicit,_=t.oxw();return i.stopPropagation(),t.KtG(_.updateToggleSidenav(c,"editDepartment"))}),t._uU(14,"Update"),t.qZA(),t.TgZ(15,"button",24),t.NdJ("click",function(i){return i.stopPropagation()}),t._uU(16,"Delete"),t.qZA()()()()()()}if(2&o){const e=a.$implicit;t.xp6(6),t.Oqu(null==e?null:e.name),t.xp6(3),t.Oqu(null==e?null:e.total_users)}}function O(o,a){1&o&&(t.TgZ(0,"th",35),t._uU(1," Name "),t.qZA())}function N(o,a){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.first_name+" "+e.last_name," ")}}function S(o,a){1&o&&(t.TgZ(0,"th",35),t._uU(1," User Name "),t.qZA())}function Q(o,a){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.username," ")}}function k(o,a){1&o&&(t.TgZ(0,"th",35),t._uU(1," Role "),t.qZA())}function M(o,a){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.role_name," ")}}function D(o,a){1&o&&(t.TgZ(0,"th",35),t._uU(1," Contact No. "),t.qZA())}function G(o,a){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.contact_no," ")}}function P(o,a){1&o&&(t.TgZ(0,"th",35),t._uU(1," Action "),t.qZA())}function Y(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",36)(1,"button",37),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.updateToggleSidenav(r,"editUser"))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",38)(5,"mat-icon",39),t._uU(6,"delete"),t.qZA()()()}}function I(o,a){1&o&&t._UZ(0,"tr",40)}function J(o,a){1&o&&t._UZ(0,"tr",41)}function z(o,a){if(1&o&&(t.TgZ(0,"table",25),t.ynx(1,26),t.YNc(2,O,2,0,"th",27),t.YNc(3,N,2,1,"td",28),t.BQk(),t.ynx(4,29),t.YNc(5,S,2,0,"th",27),t.YNc(6,Q,2,1,"td",28),t.BQk(),t.ynx(7,30),t.YNc(8,k,2,0,"th",27),t.YNc(9,M,2,1,"td",28),t.BQk(),t.ynx(10,31),t.YNc(11,D,2,0,"th",27),t.YNc(12,G,2,1,"td",28),t.BQk(),t.ynx(13,32),t.YNc(14,P,2,0,"th",27),t.YNc(15,Y,7,0,"td",28),t.BQk(),t.YNc(16,I,1,0,"tr",33),t.YNc(17,J,1,0,"tr",34),t.qZA()),2&o){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function j(o,a){if(1&o&&(t.TgZ(0,"div",42),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.noDataMsg)}}let H=(()=>{class o{constructor(e,n,i,r){this.route=e,this.router=n,this.dataService=i,this.sidenavService=r,this.displayedColumns=["name","username","role","contact","action"],this.dataSource=new m.by}ngOnInit(){this.departmentsData(),this.departmentsSelect("")}updateToggleSidenav(e,n){this.sidenavService.toggleSidenav(),this.sidenavService.passData({data:e,type:n})}departmentsData(){const e=this.route.snapshot.paramMap.get("id");e?this.dataService.departmentsData(e).subscribe(n=>{this.data=n},n=>{console.error("Error fetching departments data:",n)}):console.warn("No Plant ID found.")}departmentsSelect(e){e?this.dataService.usersDataByDepartments(e.department_id).subscribe(n=>{this.dataSource=new m.by(n),this.dataSource.paginator=this.paginator},n=>{this.noDataMsg=n.error.error}):this.noDataMsg="Department Not Selected."}viewForms(e){const n=this.route.snapshot.paramMap.get("id");this.router.navigate(["/ad/home/users/"+n+"/forms/"+e.department_id])}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(d.gz),t.Y36(d.F0),t.Y36(v.l),t.Y36(x.G))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-admin-user"]],viewQuery:function(n,i){if(1&n&&t.Gf(U.NW,7),2&n){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first)}},decls:24,vars:4,consts:[[1,"container-fluid"],[1,"row","pt-2","mb-2"],[1,"outer-card","card-flex"],[1,"mt-2"],["mat-icon-button","",3,"click"],[1,"row"],["class","col-lg-2 col-md-4 col-sm-12 mb-3",4,"ngFor","ngForOf"],[2,"border-radius","5px"],[1,"outer-card","card-flex","mt-2"],[1,"mt-2",2,"margin-left","10px"],["mat-icon-button","",2,"margin-right","10px",3,"click"],[1,"table-container",2,"overflow","auto","max-height","50vh","border-radius","5px"],["mat-table","",3,"dataSource",4,"ngIf","ngIfElse"],["noData",""],["showFirstLastButtons","",1,"mb-3",3,"pageSize"],[1,"col-lg-2","col-md-4","col-sm-12","mb-3"],[1,"card","count-card","Approved",3,"click"],[1,"card-body"],[1,"col-12"],[1,"card-title"],[1,"text-end","count"],[1,"mt-2","update-flex"],["mat-button","","color","primary",2,"margin-right","-5px",3,"click"],["mat-button","",2,"color","#135c18","margin-right","-5px",3,"click"],["mat-button","","color","warn",2,"margin-right","-5px",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","role"],["matColumnDef","contact"],["matColumnDef","action"],["class","table-header","mat-header-row","","style","z-index: 1;",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","table-body","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","dark",2,"white-space","nowrap",3,"click"],["mat-icon-button","","color","dark",2,"white-space","nowrap"],[2,"margin-right","5px"],["mat-header-row","",1,"table-header",2,"z-index","1"],["mat-row","",1,"table-body"],[1,"no-data-msg"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Departments"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return i.updateToggleSidenav("","addDepartment")}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA()()(),t.TgZ(8,"div",5),t.YNc(9,F,17,2,"div",6),t.qZA(),t.TgZ(10,"div")(11,"mat-card",7)(12,"div",8)(13,"h2",9),t._uU(14,"Users"),t.qZA(),t.TgZ(15,"button",10),t.NdJ("click",function(){return i.updateToggleSidenav("","addUser")}),t.TgZ(16,"mat-icon"),t._uU(17,"add"),t.qZA()()(),t.TgZ(18,"div",0)(19,"div",11),t.YNc(20,z,18,4,"table",12),t.YNc(21,j,2,1,"ng-template",null,13,t.W1O),t.qZA(),t._UZ(23,"mat-paginator",14),t.qZA()()()()()),2&n){const r=t.MAs(22);t.xp6(9),t.Q6J("ngForOf",i.data),t.xp6(11),t.Q6J("ngIf",i.dataSource.data.length>0)("ngIfElse",r),t.xp6(3),t.Q6J("pageSize",10)}},dependencies:[u.sg,u.O5,p.lW,p.RK,g.a8,Z.Hw,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,U.NW],styles:[".title[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.card-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.count-card[_ngcontent-%COMP%]{border:none;border-radius:5px}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.count-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:550;display:flex;align-items:center;justify-content:space-between}.count-card[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{padding-top:5px;font-size:1.3rem;font-weight:600}.Approved[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#1b8f29,#135c18);border-image-slice:1}.update-flex[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:-.75vh;flex-wrap:wrap}.no-data-msg[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:550}.table-container[_ngcontent-%COMP%]{table-layout:fixed}.table-header[_ngcontent-%COMP%]{position:sticky;top:0;background:linear-gradient(180deg,#00a366 0%,#047d4b 100%);color:#f5f5f5;height:45px;font-size:.9rem;font-weight:550}.table-body[_ngcontent-%COMP%]{height:40px;font-size:.7rem;font-weight:550}"]})}return o})();var l=s(6223),K=s(8097),R=s(2032),h=s(9157),E=s(8525),B=s(3680),f=s(1545);function $(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"mat-card",10),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.CategorySelect(r))}),t.TgZ(2,"mat-card-content")(3,"div",0)(4,"div",11)(5,"div",12)(6,"div",13),t._uU(7),t.qZA(),t.TgZ(8,"div",14),t._uU(9),t.qZA(),t.TgZ(10,"div",15),t._uU(11),t.qZA()(),t.TgZ(12,"div",16)(13,"mat-card",17)(14,"mat-card-content")(15,"i",18),t._uU(16),t.qZA()()()()()()()()()}if(2&o){const e=a.$implicit;t.xp6(7),t.Oqu(e.name),t.xp6(2),t.hij("Type: ",e.form_type,""),t.xp6(2),t.Oqu(e.subtitle),t.xp6(5),t.Oqu(e.icon)}}function V(o,a){1&o&&t._uU(0,"Form Details")}function W(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Form Name is Required"),t.qZA())}function L(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Number of Questions should be greater than 0."),t.qZA())}function X(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Form Description is Required"),t.qZA())}function tt(o,a){1&o&&t._uU(0,"Questions")}function et(o,a){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw().index;t.xp6(1),t.hij(" Question ",e+1," is Required ")}}function ot(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Question Type is Required. "),t.qZA())}function nt(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Options are Required "),t.qZA())}const A=function(o){return["questionsArray",o,"Option"]};function it(o,a){if(1&o&&(t.TgZ(0,"div",35)(1,"mat-form-field",29)(2,"mat-label"),t._uU(3),t.qZA(),t._UZ(4,"input",61),t.TgZ(5,"mat-icon",31),t._uU(6,"view_list"),t.qZA(),t.YNc(7,nt,2,0,"mat-error",32),t.qZA()()),2&o){const e=t.oxw().index,n=t.oxw(2);let i;t.xp6(3),t.hij("Options for Question ",e+1,""),t.xp6(4),t.Q6J("ngIf",(null==(i=n.secondFormGroup.get(t.VKq(2,A,e)))?null:i.invalid)&&((null==(i=n.secondFormGroup.get(t.VKq(4,A,e)))?null:i.dirty)||(null==(i=n.secondFormGroup.get(t.VKq(6,A,e)))?null:i.touched)))}}const T=function(o){return["questionsArray",o,"Question"]},b=function(o){return["questionsArray",o,"QuestionType"]};function rt(o,a){if(1&o&&(t.TgZ(0,"div",50)(1,"div",51)(2,"mat-form-field",29)(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"input",52),t.TgZ(6,"mat-icon",31),t._uU(7,"question_answer"),t.qZA(),t.YNc(8,et,2,1,"mat-error",32),t.qZA()(),t.TgZ(9,"div",33)(10,"mat-form-field",29)(11,"mat-label"),t._uU(12),t.qZA(),t.TgZ(13,"mat-select",53)(14,"mat-option",54),t._uU(15,"Multiple Choice"),t.qZA(),t.TgZ(16,"mat-option",55),t._uU(17,"Long Answer"),t.qZA(),t.TgZ(18,"mat-option",56),t._uU(19,"Select Answer"),t.qZA(),t.TgZ(20,"mat-option",57),t._uU(21,"Short Answer"),t.qZA(),t.TgZ(22,"mat-option",58),t._uU(23,"Check Box"),t.qZA(),t.TgZ(24,"mat-option",59),t._uU(25,"Upload"),t.qZA()(),t.TgZ(26,"mat-icon",31),t._uU(27,"view_headline"),t.qZA(),t.YNc(28,ot,2,0,"mat-error",32),t.qZA()(),t.YNc(29,it,8,8,"div",60),t.qZA()),2&o){const e=a.index,n=t.oxw(2);let i,r;t.Q6J("formGroupName",e),t.xp6(4),t.hij("Question ",e+1,""),t.xp6(1),t.MGl("placeholder","Question ",e+1,""),t.xp6(3),t.Q6J("ngIf",(null==(i=n.secondFormGroup.get(t.VKq(7,T,e)))?null:i.invalid)&&((null==(i=n.secondFormGroup.get(t.VKq(9,T,e)))?null:i.dirty)||(null==(i=n.secondFormGroup.get(t.VKq(11,T,e)))?null:i.touched))),t.xp6(4),t.hij("Type of Question ",e+1,""),t.xp6(16),t.Q6J("ngIf",(null==(r=n.secondFormGroup.get(t.VKq(13,b,e)))?null:r.invalid)&&((null==(r=n.secondFormGroup.get(t.VKq(15,b,e)))?null:r.dirty)||(null==(r=n.secondFormGroup.get(t.VKq(17,b,e)))?null:r.touched))),t.xp6(1),t.Q6J("ngIf","multiple"===n.getQuestionType(e)||"select"===n.getQuestionType(e)||"radio"===n.getQuestionType(e))}}function at(o,a){1&o&&t._uU(0,"Submit")}function ct(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",66),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.setActiveCard(r))}),t.TgZ(1,"div",67)(2,"p",68),t._uU(3),t.qZA()(),t.TgZ(4,"h5",68),t._uU(5),t.qZA()()}if(2&o){const e=a.$implicit,n=t.oxw(3);t.ekj("active",n.isActive(e)),t.xp6(3),t.Oqu(e.form_name),t.xp6(2),t.Oqu(e.form_description)}}function st(o,a){if(1&o&&(t.TgZ(0,"div",62)(1,"h2",63),t._uU(2,"Previous Forms"),t.qZA(),t.TgZ(3,"div",64),t.YNc(4,ct,6,4,"a",65),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.dataSource)}}function lt(o,a){1&o&&(t.TgZ(0,"div",69),t._uU(1," No data available for Selected Category! "),t.qZA())}function mt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",19)(1,"div",20)(2,"div",21)(3,"h2",22),t._uU(4,"Forms"),t.qZA(),t.TgZ(5,"mat-horizontal-stepper",23,24)(7,"mat-step",25)(8,"form",26),t.YNc(9,V,1,0,"ng-template",27),t.TgZ(10,"div",28)(11,"mat-form-field",29)(12,"mat-label"),t._uU(13,"Form Name"),t.qZA(),t._UZ(14,"input",30),t.TgZ(15,"mat-icon",31),t._uU(16,"question_answer"),t.qZA(),t.YNc(17,W,2,0,"mat-error",32),t.qZA()(),t.TgZ(18,"div",33)(19,"mat-form-field",29)(20,"mat-label"),t._uU(21,"Number of Question"),t.qZA(),t._UZ(22,"input",34),t.TgZ(23,"mat-icon",31),t._uU(24,"format_list_numbered_rtl"),t.qZA(),t.YNc(25,L,2,0,"mat-error",32),t.qZA()(),t.TgZ(26,"div",35)(27,"mat-form-field",29)(28,"mat-label"),t._uU(29,"Form Description"),t.qZA(),t._UZ(30,"textarea",36),t.TgZ(31,"mat-icon",31),t._uU(32,"format_line_spacing"),t.qZA(),t.YNc(33,X,2,0,"mat-error",32),t.qZA()(),t.TgZ(34,"div",37)(35,"button",38)(36,"mat-icon"),t._uU(37,"navigate_next"),t.qZA()()()()(),t.TgZ(38,"mat-step",25)(39,"form",39),t.YNc(40,tt,1,0,"ng-template",27),t.TgZ(41,"div",40),t.YNc(42,rt,30,19,"div",41),t.qZA(),t.TgZ(43,"div",42)(44,"button",43)(45,"mat-icon"),t._uU(46,"navigate_before"),t.qZA()(),t.TgZ(47,"button",44)(48,"mat-icon"),t._uU(49,"navigate_next"),t.qZA()()()()(),t.TgZ(50,"mat-step"),t.YNc(51,at,1,0,"ng-template",27),t._uU(52," You are all Set. "),t.TgZ(53,"div")(54,"div",42)(55,"button",43)(56,"mat-icon"),t._uU(57,"navigate_before"),t.qZA()(),t.TgZ(58,"button",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.Submit())}),t._uU(59," Submit "),t.qZA()()()()()(),t.TgZ(60,"div",46),t.YNc(61,st,5,1,"div",47),t.YNc(62,lt,2,0,"ng-template",48,49,t.W1O),t.qZA()()()}if(2&o){const e=t.MAs(63),n=t.oxw();let i,r,c;t.xp6(5),t.Q6J("linear",!0),t.xp6(2),t.Q6J("stepControl",n.firstFormGroup),t.xp6(1),t.Q6J("formGroup",n.firstFormGroup),t.xp6(9),t.Q6J("ngIf",(null==(i=n.firstFormGroup.get("FormName"))?null:i.invalid)&&((null==(i=n.firstFormGroup.get("FormName"))?null:i.dirty)||(null==(i=n.firstFormGroup.get("FormName"))?null:i.touched))),t.xp6(8),t.Q6J("ngIf",(null==(r=n.firstFormGroup.get("Questions"))?null:r.invalid)&&((null==(r=n.firstFormGroup.get("Questions"))?null:r.dirty)||(null==(r=n.firstFormGroup.get("Questions"))?null:r.touched))),t.xp6(8),t.Q6J("ngIf",(null==(c=n.firstFormGroup.get("FormDescription"))?null:c.invalid)&&((null==(c=n.firstFormGroup.get("FormDescription"))?null:c.dirty)||(null==(c=n.firstFormGroup.get("FormDescription"))?null:c.touched))),t.xp6(5),t.Q6J("stepControl",n.secondFormGroup),t.xp6(1),t.Q6J("formGroup",n.secondFormGroup),t.xp6(3),t.Q6J("ngForOf",n.questionsArray),t.xp6(19),t.Q6J("ngIf",n.dataSource.length>0)("ngIfElse",e)}}function dt(o,a){1&o&&(t.TgZ(0,"div",70)(1,"div",71),t._uU(2," Category Not Selected! "),t.qZA()())}const ut=[{path:"home",component:w,data:{breadcrumb:"Home"}},{path:"home/users/:id",component:H,data:{breadcrumb:"Users"}},{path:"home/users/:id/forms/:dep_id",component:(()=>{class o{constructor(e,n,i,r,c,_,ht){this._formBuilder=e,this.router=n,this.route=i,this.dataService=r,this.sidenavService=c,this.cookieService=_,this.EncryptService=ht,this.isLinear=!0,this.numberOfQuestions=0,this.requireOptions=[],this.dataSource=[],this.categorySelected=!1,this.activeCard=null}ngOnInit(){this.forms(),this.categoriesData()}updateToggleSidenav(e,n){this.sidenavService.toggleSidenav(),this.sidenavService.passData({data:e,type:n})}categoriesData(){const e=this.route.snapshot.paramMap.get("dep_id");e?this.dataService.categoriesData(e).subscribe(n=>{this.data=n},n=>{console.error("Error fetching departments data:",n)}):console.warn("No Plant ID found.")}CategorySelect(e){this.selectedCategory=e,this.dataSource=[],e?(this.categorySelected=!0,this.dataService.prevForms(e.category_id).subscribe(n=>{this.dataSource=n},n=>{})):this.categorySelected=!1}forms(){this.firstFormGroup=this._formBuilder.group({FormName:["",l.kI.required],FormDescription:["",l.kI.required],Questions:["",[l.kI.required,l.kI.min(1)]]}),this.secondFormGroup=this._formBuilder.group({questionsArray:this._formBuilder.array([])}),this.firstFormGroup.get("Questions")?.valueChanges.subscribe(e=>{this.numberOfQuestions=e,this.requireOptions=new Array(this.numberOfQuestions).fill(!0),this.updateQuestionsArray()})}updateQuestionsArray(){const e=this.secondFormGroup.get("questionsArray");e.clear();for(let n=0;n<this.numberOfQuestions;n++)e.push(this._formBuilder.group({Question:["",l.kI.required],QuestionType:["",l.kI.required],Option:[""]}))}get questionsArray(){return this.secondFormGroup.get("questionsArray").controls}getQuestionType(e){return this.secondFormGroup.get(["questionsArray",e,"QuestionType"])?.value}setRequireOptions(e,n){this.requireOptions[e]=n}areOptionsRequired(e){return this.requireOptions[e]}Submit(){const e=this.secondFormGroup.get("questionsArray")?.value,n=this.cookieService.get("_user_id"),i={form_name:this.firstFormGroup.get("FormName")?.value,form_description:this.firstFormGroup.get("FormDescription")?.value,created_by:this.EncryptService.decryptData(n),category_id:this.selectedCategory.category_id,plant_id:this.route.snapshot.paramMap.get("id"),Questions:e};this.firstFormGroup.valid&&this.secondFormGroup.valid?this.dataService.addForm(i).subscribe(r=>{console.log("Form created Successfully, Id:",r)},r=>{console.error("Error creating form:",r)}):(this.firstFormGroup.markAllAsTouched(),this.secondFormGroup.markAllAsTouched())}setActiveCard(e){this.activeCard=e}isActive(e){return this.activeCard===e}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(l.qu),t.Y36(d.F0),t.Y36(d.gz),t.Y36(v.l),t.Y36(x.G),t.Y36(y.N),t.Y36(K.U))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-admin-forms"]],decls:13,vars:3,consts:[[1,"container-fluid"],[1,"row","pt-2","mb-2"],[1,"outer-card","card-flex"],[1,"mt-2"],["mat-icon-button","",3,"click"],[1,"row",2,"padding-right","0"],["class","col-lg-2 col-md-3 col-sm-12 mb-3",4,"ngFor","ngForOf"],["style","border-radius: 5px;",4,"ngIf"],["class","pt-2 mb-3",4,"ngIf"],[1,"col-lg-2","col-md-3","col-sm-12","mb-3"],[1,"outer-card",3,"click"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"card-subtitle2"],[1,"col-4"],[1,"inner-card"],[1,"material-icons","icon-color"],[2,"border-radius","5px"],[1,"row","container-fluid"],[1,"col-12","col-md-10","col-lg-9"],[1,"mt-2",2,"margin-left","10px"],[3,"linear"],["stepper","matHorizontalStepper"],[3,"stepControl"],[1,"mt-2","row",3,"formGroup"],["matStepLabel",""],[1,"col-md-8","col-12"],["appearance","outline",1,"from-feild"],["matInput","","placeholder","Form Name","formControlName","FormName"],["matSuffix",""],[4,"ngIf"],[1,"col-md-4","col-12"],["type","number","min","1","matInput","","placeholder","Number of Questions","formControlName","Questions"],[1,"col-12"],["matInput","","placeholder","Form Description","formControlName","FormDescription"],[2,"display","flex","justify-content","end"],["mat-icon-button","","matStepperNext",""],[3,"formGroup"],["formArrayName","questionsArray",2,"max-height","45vh","overflow-y","auto","overflow-x","hidden"],["class","row mt-2",3,"formGroupName",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-between"],["mat-button","","matStepperPrevious",""],["mat-button","","matStepperNext",""],["mat-raised-button","",2,"background-color","#017048","color","whitesmoke",3,"click"],[1,"col-12","col-md-2","col-lg-3"],["class","mt-2 mb-2",4,"ngIf","ngIfElse"],["class","mt-2 mb-3"],["noData",""],[1,"row","mt-2",3,"formGroupName"],[1,"col-12","col-md-8"],["matInput","","formControlName","Question",3,"placeholder"],["placeholder","Question Type","formControlName","QuestionType"],["value","multiple"],["value","long"],["value","select"],["value","short"],["value","radio"],["value","upload"],["class","col-12",4,"ngIf"],["matInput","","placeholder","Write options for multiple choice separated by Comma.","formControlName","Option"],[1,"mt-2","mb-2"],[1,"mt-1","mb-1",2,"margin-left","10px"],[1,"list-group","card-height"],["class","list-group-item list-group-item-action",3,"active","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[1,"mt-3","alert","alert-warning","text-center"],[1,"pt-2","mb-3"],[1,"alert","alert-warning","text-center"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Categories"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return i.updateToggleSidenav("","addCategory")}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA()()(),t.TgZ(8,"div",5),t.YNc(9,$,17,4,"div",6),t.qZA(),t.TgZ(10,"div"),t.YNc(11,mt,64,11,"mat-card",7),t.YNc(12,dt,3,0,"div",8),t.qZA()()()),2&n&&(t.xp6(9),t.Q6J("ngForOf",i.data),t.xp6(2),t.Q6J("ngIf",i.categorySelected),t.xp6(1),t.Q6J("ngIf",!i.categorySelected))},dependencies:[u.sg,u.O5,p.lW,p.RK,g.a8,g.dn,Z.Hw,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,l.sg,l.u,l.x0,l.CE,R.Nt,h.KE,h.hX,h.TO,h.R9,E.gD,B.ey,f.C0,f.VY,f.Vq,f.Ic,f.fd],styles:[".title[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.card-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.outer-card[_ngcontent-%COMP%]{height:100%;width:100%}.count-card[_ngcontent-%COMP%]{border:none;border-radius:5px}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.count-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:550;display:flex;align-items:center;justify-content:space-between}.inner-card[_ngcontent-%COMP%]{height:50px;margin-top:-25px;width:50px;display:flex;justify-content:center;align-items:center}.card-subtitle[_ngcontent-%COMP%]{font-size:.9rem;font-weight:550;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.from-feild[_ngcontent-%COMP%]{width:100%}.card-subtitle2[_ngcontent-%COMP%]{font-size:.8rem;font-weight:350;color:#878787e6;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.icon-color[_ngcontent-%COMP%]{background:linear-gradient(to right,#008554,#035539);-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:_ngcontent-%COMP%_pulse 2.5s infinite alternate}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}to{opacity:.5}}.card-height[_ngcontent-%COMP%]{max-height:52vh;overflow:auto}.no-data-msg[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:550}.active[_ngcontent-%COMP%]{background-color:#008554;border-color:#035539}"]})}return o})(),data:{breadcrumb:"Forms"}},{path:"**",redirectTo:"home",pathMatch:"full"}];let pt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(ut),d.Bz]})}return o})();var _t=s(9427),gt=s(632);let ft=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[u.ez,pt,_t.q,gt.l]})}return o})()}}]);