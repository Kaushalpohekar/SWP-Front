"use strict";(self.webpackChunkSWP_Front=self.webpackChunkSWP_Front||[]).push([[767],{8767:(Qe,U,d)=>{d.r(U),d.d(U,{UserModule:()=>Je});var l=d(6814),N=d(9427),g=d(1896),O=d(9315),D=d(8504),I=d(6306),t=d(5879),Y=d(2096),J=d(553),z=d(9862);let f=(()=>{class i{constructor(e){this.http=e,this.apiUrl=J.N.apiUrl,this.types=[{id:"observations",name:"Observations"},{id:"incidents",name:"Incidents"},{id:"permits",name:"Permits"},{id:"action",name:"Action"},{id:"audits",name:"Audits"}]}getTypes(){return(0,Y.of)(this.types)}getAllCaterogy(e,o){return this.http.get(`${this.apiUrl}/getCategories/${o}/${e}`)}getAllForms(e){return this.http.get(`${this.apiUrl}/getForms/${e}`)}getQuestions(e){return this.http.get(`${this.apiUrl}/getQuestions/${e}`)}getAuthorizer(e){return this.http.get(`${this.apiUrl}/getAuthorizers/${e}`)}submitFormData(e){return this.http.post(`${this.apiUrl}/insertDetails`,e)}getFormsList(e,o){return this.http.get(`${this.apiUrl}/getSubmissionByInterval/${e}/${o}`)}getFormsListCount(e,o){return this.http.get(`${this.apiUrl}/getSubmissionByIntervalCount/${e}/${o}`)}getSubmissionDetails(e){return this.http.get(`${this.apiUrl}/getSubmissionDetails/${e}`)}getProfileDetails(e){return this.http.get(`${this.apiUrl}/profileDetails/${e}`)}getSubmissionCount(e,o){return this.http.get(`${this.apiUrl}/getSubmissionCount/${e}/${o}`)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(z.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var x=d(1243),b=d(459),Z=d(8097),q=d(617),c=d(6223),v=d(5313),C=d(5234),E=d(6408),u=d(6825);const Q=function(i){return{"-closed":i}};function $(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(n){const a=t.CHM(e).$implicit;return t.oxw().selectOption(a),t.KtG(n.stopPropagation())}),t._uU(1),t.qZA()}if(2&i){const e=s.$implicit,o=t.oxw();t.Q6J("ngClass",t.VKq(2,Q,o.isDropdownClosed())),t.xp6(1),t.hij(" ",e[o.displayField]," ")}}let A=(()=>{class i{constructor(){this.options=[],this.displayField="",this.valueField="",this.selectedOption=null,this.optionSelected=new t.vpe,this.dropdownOpen=!1,this.isDisabled=!1,this.onChange=e=>{},this.onTouched=()=>{}}ngOnInit(){}toggleDropdown(){this.isDisabled||(this.dropdownOpen=!this.dropdownOpen)}selectOption(e){this.selectedOption=e,this.onChange(e[this.valueField]),this.onTouched(),this.optionSelected.emit(e),this.dropdownOpen=!1}isDropdownClosed(){return!this.dropdownOpen}onClickOutside(e){this.dropdownOpen&&(e.target.closest(".custom-dropdown")||(this.dropdownOpen=!1))}writeValue(e){this.selectedOption=e?this.options.find(o=>o[this.valueField]===e):null}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-select2"]],hostBindings:function(o,n){1&o&&t.NdJ("click",function(a){return n.onClickOutside(a)},!1,t.evT)},inputs:{options:"options",displayField:"displayField",valueField:"valueField",selectedOption:"selectedOption"},outputs:{optionSelected:"optionSelected"},features:[t._Bn([{provide:c.JU,useExisting:(0,t.Gpc)(()=>i),multi:!0}])],decls:6,vars:3,consts:[[1,"custom-dropdown",3,"click"],[1,"custom-dropdown-content"],[1,"custom-dropdown-selected"],[1,"custom-dropdown-options"],["class","custom-dropdown-option",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"custom-dropdown-option",3,"ngClass","click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return n.toggleDropdown()}),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA()(),t.TgZ(4,"div",3),t.YNc(5,$,2,4,"div",4),t.qZA()()),2&o&&(t.xp6(3),t.hij(" ",n.selectedOption&&n.selectedOption[n.displayField]||"Select an option"," "),t.xp6(1),t.Q6J("@openClose",n.dropdownOpen?"open":"closed"),t.xp6(1),t.Q6J("ngForOf",n.options))},dependencies:[l.mk,l.sg],styles:[".custom-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;border:none;border-bottom:1px solid #dfe1e5;border-radius:5px;font-size:.8rem;box-sizing:border-box;transition:border-color .3s,border-width .3s;background-color:#f1f1f1}.custom-dropdown-selected[_ngcontent-%COMP%]{padding:5px;border-radius:5px;border:none;border-bottom:1px solid #008554;cursor:pointer}.custom-dropdown-options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;border:1px solid #008554;border-radius:5px;background-color:#fff;z-index:1000}.custom-dropdown-option[_ngcontent-%COMP%]{padding:5px}.custom-dropdown-option[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-radius:5px;cursor:pointer}.custom-dropdown-option.-closed[_ngcontent-%COMP%]{cursor:default;pointer-events:none}"],data:{animation:[(0,u.X$)("openClose",[(0,u.SB)("open",(0,u.oB)({opacity:1,maxHeight:"200px"})),(0,u.SB)("closed",(0,u.oB)({opacity:0,maxHeight:"0"})),(0,u.eR)("open => closed",[(0,u.jt)("0.3s")]),(0,u.eR)("closed => open",[(0,u.jt)("0.3s")])])]}})}return i})();function j(i,s){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-loading"),t.qZA())}function R(i,s){1&i&&(t.TgZ(0,"div",38),t._UZ(1,"app-spinner"),t.qZA())}function L(i,s){if(1&i&&(t.TgZ(0,"div",17)(1,"div",39),t._uU(2),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.count)}}function B(i,s){if(1&i&&(t.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",10)(4,"div",17)(5,"div",35),t._uU(6),t.qZA()(),t.YNc(7,R,2,0,"div",36),t.YNc(8,L,3,1,"div",37),t.qZA()()()()),2&i){const e=s.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass","card count-card "+e.type),t.xp6(5),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",o.loadingService.displaying),t.xp6(1),t.Q6J("ngIf",!o.loadingService.displaying)}}function H(i,s){1&i&&(t.TgZ(0,"th",40),t._uU(1," Unique No. "),t.qZA())}function G(i,s){if(1&i&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.hij(" ",e.submission_id," ")}}function K(i,s){1&i&&(t.TgZ(0,"th",40),t._uU(1," Name "),t.qZA())}function V(i,s){if(1&i&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.hij(" ",e.form_data.form_name," ")}}function W(i,s){1&i&&(t.TgZ(0,"th",40),t._uU(1," Date "),t.qZA())}function X(i,s){if(1&i&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&i){const e=s.$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.formatDate(e.created_at)," ")}}function tt(i,s){1&i&&(t.TgZ(0,"th",40),t._uU(1," Authorizer "),t.qZA())}function et(i,s){if(1&i&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.AsE(" ",e.authorizer_details.first_name," ",e.authorizer_details.last_name," ")}}function it(i,s){1&i&&(t.TgZ(0,"th",40),t._uU(1," Status "),t.qZA())}function ot(i,s){if(1&i&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&i){const e=s.$implicit,o=t.oxw(2);t.Q6J("ngClass",o.getStatusClasses(e.status))("ngStyle",o.getStatusStyles(e.status)),t.xp6(1),t.hij(" ",o.getStatusLabel(e.status)," ")}}function nt(i,s){1&i&&(t.TgZ(0,"th",40),t._uU(1," View "),t.qZA())}function rt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"td",41)(1,"mat-icon",43),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onViewClick(r.submission_id))}),t._uU(2,"description"),t.qZA()()}}function st(i,s){1&i&&t._UZ(0,"tr",44)}function at(i,s){1&i&&t._UZ(0,"tr",45)}function dt(i,s){1&i&&(t.TgZ(0,"div",46),t._UZ(1,"app-spinner"),t.qZA())}function ct(i,s){1&i&&(t.TgZ(0,"div",48)(1,"div",49),t._uU(2," No data found! "),t.qZA()())}function lt(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,ct,3,0,"div",47),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.cards||0===e.cards.length)}}function pt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5,"Overall Request"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",4),t._uU(10,"Filter:"),t.qZA()(),t.TgZ(11,"div",8)(12,"app-select2",9),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedInterval=n)})("optionSelected",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.onOptionSelected(n))}),t.qZA()()()()(),t.TgZ(13,"div",10),t.YNc(14,B,9,4,"div",11),t.qZA(),t.TgZ(15,"div",10)(16,"div",12)(17,"div",4),t._uU(18,"Request Details"),t.qZA()(),t.TgZ(19,"div",13)(20,"div",6)(21,"div",14)(22,"div",4),t._uU(23,"Sort:"),t.qZA()(),t.TgZ(24,"div",15)(25,"app-select2",9),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedSort=n)})("optionSelected",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.onOptionSelected2(n))}),t.qZA()()()()(),t.TgZ(26,"div",16)(27,"div",17)(28,"div",18)(29,"table",19),t.ynx(30,20),t.YNc(31,H,2,0,"th",21),t.YNc(32,G,2,1,"td",22),t.BQk(),t.ynx(33,23),t.YNc(34,K,2,0,"th",21),t.YNc(35,V,2,1,"td",22),t.BQk(),t.ynx(36,24),t.YNc(37,W,2,0,"th",21),t.YNc(38,X,2,1,"td",22),t.BQk(),t.ynx(39,25),t.YNc(40,tt,2,0,"th",21),t.YNc(41,et,2,2,"td",22),t.BQk(),t.ynx(42,26),t.YNc(43,it,2,0,"th",21),t.YNc(44,ot,2,3,"td",27),t.BQk(),t.ynx(45,28),t.YNc(46,nt,2,0,"th",21),t.YNc(47,rt,3,0,"td",22),t.BQk(),t.YNc(48,st,1,0,"tr",29),t.YNc(49,at,1,0,"tr",30),t.qZA(),t.YNc(50,dt,2,0,"div",31),t.YNc(51,lt,2,1,"div",0),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(12),t.Q6J("options",e.intervalData)("displayField","name")("valueField","value")("ngModel",e.selectedInterval),t.xp6(2),t.Q6J("ngForOf",e.countCards),t.xp6(11),t.Q6J("options",e.sortData)("displayField","name")("valueField","value")("ngModel",e.selectedSort),t.xp6(4),t.Q6J("dataSource",e.cards),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("ngIf",e.loadingService.displaying),t.xp6(1),t.Q6J("ngIf",!e.loadingService.displaying)}}let ut=(()=>{class i{constructor(e,o,n,r,a,p){this.dataService=e,this.router=o,this.loadingService=n,this.cookieService=r,this.encryptService=a,this.datePipe=p,this.cards=[],this.originalCards=[],this.totalCount=0,this.newCount=0,this.approvedCount=0,this.rejectedCount=0,this.user_id="",this.intervalData=[{name:"Hour",value:"1hour"},{name:"Day",value:"1day"},{name:"Week",value:"1week"},{name:"Month",value:"1month"},{name:"Half Year",value:"6month"},{name:"Full Year",value:"12month"}],this.sortData=[{name:"Total",value:"total"},{name:"Approved",value:"approved"},{name:"Rejected",value:"rejected"},{name:"New",value:"opened"}],this.displayedColumns=["serial","name","date","authorizer","status","action"],this.countCards=[{title:"Total",count:this.totalCount,type:"new"},{title:"New",count:this.newCount,type:"Extend"},{title:"Approved",count:this.approvedCount,type:"Approved"},{title:"Rejected",count:this.rejectedCount,type:"Rejected"}]}ngOnInit(){this.loadingService.isPageLoading(!0),this.checkCookies(),this.fetchData()}checkCookies(){const e=this.cookieService.get("_usr_hm_itrvl"),o=this.cookieService.get("_usr_hm_srt");this.selectedInterval=e||"1day",this.selectedSort=o||"total"}fetchData(){this.loadingService.isDataLoading(!0);try{this.user_id=this.encryptService.decryptData(this.cookieService.get("_user_id")),(0,O.D)({formsList:this.dataService.getFormsList(this.user_id,this.selectedInterval),formsListCount:this.dataService.getFormsListCount(this.user_id,this.selectedInterval)}).pipe((0,I.K)(e=>(this.loadingService.isPageLoading(!1),this.cards=[],this.totalCount=0,this.newCount=0,this.approvedCount=0,this.rejectedCount=0,this.updateCountCards(),(0,D._)(e)))).subscribe(e=>{this.cards=e.formsList,this.originalCards=[...this.cards];const o=e.formsListCount;this.totalCount=o.totalCount||0,this.newCount=o.statusCounts.opened||0,this.approvedCount=o.statusCounts.approved||0,this.rejectedCount=o.statusCounts.rejected||0,this.updateCountCards(),this.loadingService.isPageLoading(!1),this.updateCards()})}catch(e){this.loadingService.isPageLoading(!1),console.error("Error in fetchData:",e)}}updateCountCards(){this.countCards=[{title:"Total",count:this.totalCount,type:"new"},{title:"New",count:this.newCount,type:"Extend"},{title:"Approved",count:this.approvedCount,type:"Approved"},{title:"Rejected",count:this.rejectedCount,type:"Rejected"}],this.loadingService.isDataLoading(!1)}onOptionSelected(e){this.selectedInterval=e.value,this.cookieService.set("_usr_hm_itrvl",this.selectedInterval,{path:"/"}),this.fetchData()}onOptionSelected2(e){this.selectedSort=e.value,this.cookieService.set("_usr_hm_srt",this.selectedSort,{path:"/"}),this.updateCards()}updateCards(){switch(this.selectedSort){case"total":this.cards=[...this.originalCards];break;case"approved":this.cards=this.originalCards.filter(e=>"approved"===e.status);break;case"rejected":this.cards=this.originalCards.filter(e=>"rejected"===e.status);break;case"opened":this.cards=this.originalCards.filter(e=>"opened"===e.status)}}applyFilter(){this.fetchData()}onViewClick(e){this.router.navigate(["/u/view",e])}formatDate(e){const o=new Date(e);return o.setMinutes(o.getMinutes()),this.datePipe.transform(o,"MMM d, y hh:mm a")??"Invalid Date"}getStatusClasses(e){switch(e){case"opened":return"new-status";case"approved":return"approved-status";case"rejected":return"rejected-status";case"extended":return"extended-status";case"revoked":return"revoked-status";default:return""}}getStatusStyles(e){switch(e){case"opened":return{color:"blue"};case"approved":return{color:"darkgreen"};case"rejected":return{color:"darkred"};default:return{color:"grey"}}}getStatusLabel(e){switch(e){case"opened":return"New";case"approved":return"Approved";case"rejected":return"Rejected";case"extended":return"Extended";case"revoked":return"Revoked";default:return""}}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(f),t.Y36(g.F0),t.Y36(x.b),t.Y36(b.N),t.Y36(Z.U),t.Y36(l.uU))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-userhome"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid"],[1,"row","pt-4"],[1,"col-lg-9","col-md-8","col-sm-12","mb-2","d-flex","align-items-center"],[1,"title"],[1,"col-lg-3","col-md-4","col-sm-12","mb-2"],[1,"row","d-flex","align-items-center"],[1,"col-2"],[1,"col-10"],[3,"options","displayField","valueField","ngModel","ngModelChange","optionSelected"],[1,"row"],["class","col-lg-3 col-md-3 col-sm-4 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-10","col-md-6","col-sm-6","mb-2","d-flex","align-items-center"],[1,"col-lg-2","col-md-6","col-sm-6","mb-2"],[1,"col-3"],[1,"col-9"],[1,"row","mb-2"],[1,"col-12"],[1,"table-container",2,"overflow","auto","max-height","60vh","border-radius","5px"],["mat-table","",3,"dataSource"],["matColumnDef","serial"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","date"],["matColumnDef","authorizer"],["matColumnDef","status"],["mat-cell","",3,"ngClass","ngStyle",4,"matCellDef"],["matColumnDef","action"],["class","table-header","mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","table-body","mat-row","",4,"matRowDef","matRowDefColumns"],["class","pt-4 mb-3 text-center",4,"ngIf"],[1,"col-lg-3","col-md-3","col-sm-4","mb-3"],[3,"ngClass"],[1,"card-body"],[1,"card-title"],["class","col-12 text-end",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","text-end"],[1,"text-end","count"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass","ngStyle"],["color","primary",1,"view-button",3,"click"],["mat-header-row","",1,"table-header"],["mat-row","",1,"table-body"],[1,"pt-4","mb-3","text-center"],["class","pt-4 mb-3",4,"ngIf"],[1,"pt-4","mb-3"],[1,"alert","alert-warning","text-center"]],template:function(o,n){1&o&&(t.YNc(0,j,2,0,"div",0),t.YNc(1,pt,52,15,"div",0)),2&o&&(t.Q6J("ngIf",n.loadingService.pageLoading),t.xp6(1),t.Q6J("ngIf",!n.loadingService.pageLoading))},dependencies:[l.mk,l.sg,l.O5,l.PC,q.Hw,c.JJ,c.On,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.ge,v.ev,v.XQ,v.Gk,C.N,E.O,A],styles:[".title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:550}.count-card[_ngcontent-%COMP%]{border:none;border-radius:5px}.new[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#6a79d1,#4e5d96);border-image-slice:1}.Approved[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#1b8f29,#135c18);border-image-slice:1}.Rejected[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#e22a2a,#bd0f0f);border-image-slice:1}.Revoked[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#d4bc1d,#a19318);border-image-slice:1}.Extend[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#1d8a70,#0e6956);border-image-slice:1}.Overdue[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#f0424a,#d9111b);border-image-slice:1}.count-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:550;display:flex;align-items:center;justify-content:space-between}.count-card[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{padding-top:5px;font-size:1.2rem;font-weight:600}.table-header[_ngcontent-%COMP%]{background:linear-gradient(180deg,#00a366 0%,#047d4b 100%);color:#f5f5f5;height:45px;font-size:.9rem;font-weight:550}.table-body[_ngcontent-%COMP%]{height:40px;font-size:.7rem;font-weight:550}.custom-circle-button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#008554 0%,#035539 100%);border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;outline:none;box-shadow:#0000003d 0 3px 8px}.custom-circle-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px}.view-button[_ngcontent-%COMP%]{cursor:pointer}"]})}return i})();var gt=d(5592),w=d(2939),M=d(8732),T=d(5195);function _t(i,s){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-loading"),t.qZA())}function mt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",22)(1,"mat-card",23),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(3);return t.KtG(a.onCardClick(r))}),t.TgZ(2,"mat-card-content")(3,"div",1)(4,"div",6)(5,"div",24)(6,"div",13),t._uU(7),t.qZA(),t.TgZ(8,"div",25),t._uU(9),t.qZA()(),t.TgZ(10,"div",26)(11,"mat-card",27)(12,"mat-card-content")(13,"i",28),t._uU(14),t.qZA()()()()()()()()()}if(2&i){const e=s.$implicit;t.xp6(7),t.Oqu(e.name),t.xp6(2),t.Oqu(e.subtitle),t.xp6(5),t.Oqu(e.icon)}}function vt(i,s){if(1&i&&(t.ynx(0),t.YNc(1,mt,15,3,"div",21),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.cards)}}function ft(i,s){1&i&&(t.TgZ(0,"div",29)(1,"p",30),t._uU(2,"No Data Found! Please contact the administrator."),t.qZA()())}function ht(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5,"Choose any to Continue"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t.YNc(8,vt,2,1,"ng-container",7),t.qZA()(),t.TgZ(9,"div",8)(10,"div",6)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",6)(15,"div",12)(16,"div",13),t._uU(17,"New"),t.qZA()(),t.TgZ(18,"div",12)(19,"div",14),t._uU(20),t.qZA()()()()()(),t.TgZ(21,"div",9)(22,"div",15)(23,"div",11)(24,"div",6)(25,"div",12)(26,"div",13),t._uU(27,"Approved"),t.qZA()(),t.TgZ(28,"div",12)(29,"div",14),t._uU(30),t.qZA()()()()()(),t.TgZ(31,"div",9)(32,"div",16)(33,"div",11)(34,"div",6)(35,"div",12)(36,"div",13),t._uU(37,"Rejected"),t.qZA()(),t.TgZ(38,"div",12)(39,"div",14),t._uU(40),t.qZA()()()()()(),t.TgZ(41,"div",9)(42,"div",17)(43,"div",11)(44,"div",6)(45,"div",12)(46,"div",13),t._uU(47,"Extend"),t.qZA()(),t.TgZ(48,"div",12)(49,"div",14),t._uU(50),t.qZA()()()()()(),t.TgZ(51,"div",9)(52,"div",18)(53,"div",11)(54,"div",6)(55,"div",12)(56,"div",13),t._uU(57,"Revoked"),t.qZA()(),t.TgZ(58,"div",12)(59,"div",14),t._uU(60),t.qZA()()()()()(),t.TgZ(61,"div",9)(62,"div",19)(63,"div",11)(64,"div",6)(65,"div",12)(66,"div",13),t._uU(67,"Overdue"),t.qZA()(),t.TgZ(68,"div",12)(69,"div",14),t._uU(70),t.qZA()()()()()()()()()(),t.YNc(71,ft,3,0,"ng-template",null,20,t.W1O),t.qZA()),2&i){const e=t.MAs(72),o=t.oxw();t.xp6(8),t.Q6J("ngIf",o.cards.length>0)("ngIfElse",e),t.xp6(12),t.Oqu(o.counts.opened||0),t.xp6(10),t.Oqu(o.counts.approved||0),t.xp6(10),t.Oqu(o.counts.rejected||0),t.xp6(10),t.Oqu(o.counts.extened||0),t.xp6(10),t.Oqu(o.counts.revoked||0),t.xp6(10),t.Oqu(o.counts.overdue||0)}}let xt=(()=>{class i{constructor(e,o,n,r,a,p,m,h){this.dataService=e,this.router=o,this.route=n,this.snackBar=r,this.cookieService=a,this.encryptService=p,this.loadingService=m,this.alertService=h,this.cards=[],this.types=[],this.counts={}}ngOnInit(){this.route.params.subscribe(e=>{this.type=e.type,this.loadingService.isPageLoading(!0),this.loadInitialData(),this.cards=[],this.counts={}})}loadInitialData(){(0,O.D)({types:this.dataService.getTypes(),userDetails:this.getUserDetails()}).subscribe({next:({types:e,userDetails:o})=>{this.types=e,this.department_id=o.department_id,this.types.some(n=>n.id===this.type)?this.loadCategories():this.router.navigate(["/u/h"])},error:e=>{this.alertService.showAlert("Error loading data. Please try again later.","error",3e3),this.router.navigate(["/u/h"])}})}getUserDetails(){return new gt.y(e=>{try{const o=this.cookieService.get("_usr_dtls"),n=this.encryptService.decryptData(o);e.next(n),e.complete()}catch(o){e.error(o)}})}loadCategories(){const e=this.encryptService.decryptData(this.cookieService.get("_user_id"));(0,O.D)({categories:this.dataService.getAllCaterogy(this.type,this.department_id),submissionCount:this.dataService.getSubmissionCount(this.type,e)}).subscribe({next:({categories:o,submissionCount:n})=>{this.cards=o,this.counts=n,this.loadingService.isPageLoading(!1)},error:o=>{console.error("Error loading categories or submission count:",o),this.alertService.showAlert("Error loading categories or submission count. Please try again later.","error",3e3),this.loadingService.isPageLoading(!1)}})}onCardClick(e){const o=this.encryptService.encryptData(e);this.cookieService.set("_cat_dtls",o,{path:"/"}),this.router.navigate(["/u/f",this.type,e.category_id])}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(f),t.Y36(g.F0),t.Y36(g.gz),t.Y36(w.ux),t.Y36(b.N),t.Y36(Z.U),t.Y36(x.b),t.Y36(M.c))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-permit"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid"],[1,"row","pt-2","mb-2"],[1,"col-12","pt-3","mb-3"],[1,"title"],[1,"col-xl-8","col-lg-8","col-md-8","col-sm-12","mb-2"],[1,"row"],[4,"ngIf","ngIfElse"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-12","order-first","order-md-last","mb-2"],[1,"col-lg-4","col-md-6","col-sm-4","mb-3"],[1,"card","count-card","new"],[1,"card-body"],[1,"col-12"],[1,"card-title"],[1,"text-end","count"],[1,"card","count-card","Approved"],[1,"card","count-card","Rejected"],[1,"card","count-card","Extend"],[1,"card","count-card","Revoked"],[1,"card","count-card","Overdue"],["noCards",""],["class","col-lg-4 col-md-6 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-6","mb-4"],[1,"outer-card",3,"click"],[1,"col-8"],[1,"card-subtitle"],[1,"col-4"],[1,"inner-card"],[1,"material-icons","icon-color"],[1,"col-12","text-center"],[1,"alert","alert-warning"]],template:function(o,n){1&o&&(t.YNc(0,_t,2,0,"div",0),t.YNc(1,ht,73,8,"div",0)),2&o&&(t.Q6J("ngIf",n.loadingService.pageLoading),t.xp6(1),t.Q6J("ngIf",!n.loadingService.pageLoading))},dependencies:[l.sg,l.O5,T.a8,T.dn,C.N],styles:[".title[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.outer-card[_ngcontent-%COMP%]{height:100%;width:100%}.inner-card[_ngcontent-%COMP%]{height:50px;margin-top:-25px;width:50px;display:flex;justify-content:center;align-items:center}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.card-subtitle[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.icon-color[_ngcontent-%COMP%]{background:linear-gradient(to right,#008554,#035539);-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:_ngcontent-%COMP%_pulse 2.5s infinite alternate}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}to{opacity:.5}}.count-card[_ngcontent-%COMP%]{border:none;border-radius:5px}.new[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#6a79d1,#4e5d96);border-image-slice:1}.Approved[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#1b8f29,#135c18);border-image-slice:1}.Rejected[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#e22a2a,#bd0f0f);border-image-slice:1}.Revoked[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#d4bc1d,#a19318);border-image-slice:1}.Extend[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#1d8a70,#0e6956);border-image-slice:1}.Overdue[_ngcontent-%COMP%]{border-left:5px solid;border-image:linear-gradient(to bottom,#f0424a,#d9111b);border-image-slice:1}.count-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:550;display:flex;align-items:center;justify-content:space-between}.count-card[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{padding-top:5px;font-size:1.2rem;font-weight:600}"]})}return i})();var Ct=d(8645),P=d(2572),y=d(9773),_=d(7700),S=d(2296);let bt=(()=>{class i{constructor(e,o,n){this.dataService=e,this.dialogRef=o,this.data=n,this.formData=n.data}onNoClick(){this.dialogRef.close("notSure")}onSaveClick(){this.formData&&this.dataService.submitFormData(this.formData).subscribe(()=>{this.dialogRef.close("Success")},e=>{this.dialogRef.close(e.error)})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(f),t.Y36(_.so),t.Y36(_.WI))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-confirm-submit"]],decls:18,vars:0,consts:[[1,"container","dialog"],[1,"row","pt-4","mb-4"],[1,"col-12","d-flex","justify-content-center","mb-3"],[1,"info-circle"],[1,"info-icon"],[1,"col-12","mb-3"],[1,"dialog-title"],[1,"container"],[1,"row"],[1,"col-6"],["mat-raised-button","",1,"dialog-button",3,"click"],["mat-raised-button","",1,"dialog-button","sucess",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5,"\u2139"),t.qZA()()(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8," Are you sure that the filled data is correct and you want to proceed? "),t.qZA()(),t.TgZ(9,"div",5)(10,"div",7)(11,"div",8)(12,"div",9)(13,"button",10),t.NdJ("click",function(){return n.onNoClick()}),t._uU(14,"Cancel"),t.qZA()(),t.TgZ(15,"div",9)(16,"button",11),t.NdJ("click",function(){return n.onSaveClick()}),t._uU(17,"Submit"),t.qZA()()()()()()())},dependencies:[S.lW],styles:[".dialog[_ngcontent-%COMP%]{max-width:500px;height:auto;border:1px solid #008554;border-radius:4px}.dialog-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:550;text-align:center;line-height:1;color:gray;animation:_ngcontent-%COMP%_fadeIn .5s ease forwards}.info-circle[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px;border:2px solid #333;border-radius:50%;line-height:50px;text-align:center;animation:_ngcontent-%COMP%_moveIcon .5s ease forwards;color:gray}.info-icon[_ngcontent-%COMP%]{font-size:1.2rem;animation:_ngcontent-%COMP%_moveIcon .5s ease forwards}@keyframes _ngcontent-%COMP%_moveIcon{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.dialog-button[_ngcontent-%COMP%]{width:100%}.sucess[_ngcontent-%COMP%]{background-color:#008554;color:#f5f5f5}"]})}return i})();var Zt=d(5619);let k=(()=>{class i{constructor(){this.usersMap={}}initializeKey(e){this.usersMap[e]||(this.usersMap[e]=new Zt.X([]))}getUsers$(e){return this.initializeKey(e),this.usersMap[e].asObservable()}addUser(e,o){this.initializeKey(e);const n=this.usersMap[e].getValue();this.usersMap[e].next([...n,o])}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var wt=d(5986),F=d(7466);const Tt=function(i){return{"-closed":i}};function Ot(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(n){const a=t.CHM(e).$implicit;return t.oxw().selectOption(a),t.KtG(n.stopPropagation())}),t._uU(1),t.qZA()}if(2&i){const e=s.$implicit,o=t.oxw();t.Q6J("ngClass",t.VKq(2,Tt,o.isDropdownClosed())),t.xp6(1),t.hij(" ",e," ")}}let qt=(()=>{class i{constructor(){this.options=[],this.selectedOption="",this.optionSelected=new t.vpe,this.dropdownOpen=!1}ngOnInit(){}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}selectOption(e){this.selectedOption=e,this.optionSelected.emit(e),this.dropdownOpen=!1}isDropdownClosed(){return!this.dropdownOpen}onClickOutside(e){this.dropdownOpen&&(e.target.closest(".custom-dropdown")||(this.dropdownOpen=!1))}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-select"]],hostBindings:function(o,n){1&o&&t.NdJ("click",function(a){return n.onClickOutside(a)},!1,t.evT)},inputs:{options:"options",selectedOption:"selectedOption"},outputs:{optionSelected:"optionSelected"},decls:6,vars:3,consts:[[1,"custom-dropdown",3,"click"],[1,"custom-dropdown-content"],[1,"custom-dropdown-selected"],[1,"custom-dropdown-options"],["class","custom-dropdown-option",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"custom-dropdown-option",3,"ngClass","click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return n.toggleDropdown()}),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA()(),t.TgZ(4,"div",3),t.YNc(5,Ot,2,4,"div",4),t.qZA()()),2&o&&(t.xp6(3),t.hij(" ",n.selectedOption||"Select an option"," "),t.xp6(1),t.Q6J("@openClose",n.dropdownOpen?"open":"closed"),t.xp6(1),t.Q6J("ngForOf",n.options))},dependencies:[l.mk,l.sg],styles:[".custom-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;border:none;border-bottom:1px solid #dfe1e5;border-radius:5px;font-size:.8rem;box-sizing:border-box;transition:border-color .3s,border-width .3s;background-color:#f1f1f1}.custom-dropdown-selected[_ngcontent-%COMP%]{padding:5px;border-radius:5px;border:none;border-bottom:1px solid #008554;cursor:pointer}.custom-dropdown-options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;border:1px solid #008554;border-radius:5px;background-color:#fff;z-index:1000}.custom-dropdown-option[_ngcontent-%COMP%]{padding:5px}.custom-dropdown-option[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-radius:5px;cursor:pointer}.custom-dropdown-option.-closed[_ngcontent-%COMP%]{cursor:default;pointer-events:none}"],data:{animation:[(0,u.X$)("openClose",[(0,u.SB)("open",(0,u.oB)({opacity:1,maxHeight:"200px"})),(0,u.SB)("closed",(0,u.oB)({opacity:0,maxHeight:"0"})),(0,u.eR)("open => closed",[(0,u.jt)("0.3s")]),(0,u.eR)("closed => open",[(0,u.jt)("0.3s")])])]}})}return i})();var yt=d(9157);function Ut(i,s){if(1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.getErrorMessage("mobileNumber"))}}let At=(()=>{class i{constructor(e,o){this.fb=e,this.userDataService=o}ngOnInit(){if(!this.userType)throw new Error("userType is required");this.userForm=this.fb.group({name:["",c.kI.required],mobileNumber:["",[c.kI.required,c.kI.pattern("[0-9]*"),c.kI.minLength(10),c.kI.maxLength(10)]]})}addUser(){this.userForm.valid?(this.userDataService.addUser(this.userType,this.userForm.value),this.userForm.reset()):this.userForm.markAllAsTouched()}getErrorMessage(e){return this.userForm.get(e)?.hasError("required")?"Field is required":"mobileNumber"===e&&this.userForm.get(e)?.hasError("pattern")?"Contain only numbers.":"mobileNumber"===e&&this.userForm.get(e)?.hasError("minlength")?"At least 10 characters long.":"mobileNumber"===e&&this.userForm.get(e)?.hasError("maxlength")?"Cannot exceed 10 characters.":""}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(c.qu),t.Y36(k))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-add"]],inputs:{userType:"userType"},decls:17,vars:2,consts:[[1,"col-12","mb-2"],[3,"formGroup","ngSubmit"],[1,"row","mb-2"],[1,"col-6","mb-1"],[1,"custom-form-input"],["for","name"],["type","text","id","name","formControlName","name"],["for","mobileNumber"],["type","tel","id","mobileNumber","formControlName","mobileNumber"],[1,"col-12","mb-1"],["type","submit",1,"form-button"],[4,"ngIf"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return n.addUser()}),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),t._uU(6,"Name:"),t.qZA(),t._UZ(7,"input",6),t.qZA()(),t.TgZ(8,"div",3)(9,"div",4)(10,"label",7),t._uU(11,"Mobile Number:"),t.qZA(),t._UZ(12,"input",8),t.qZA()(),t.TgZ(13,"div",9)(14,"button",10),t._uU(15,"Add"),t.qZA(),t.YNc(16,Ut,2,1,"mat-error",11),t.qZA()()()()),2&o){let r;t.xp6(1),t.Q6J("formGroup",n.userForm),t.xp6(15),t.Q6J("ngIf",(null==(r=n.userForm.get("mobileNumber"))?null:r.invalid)&&((null==(r=n.userForm.get("mobileNumber"))?null:r.dirty)||(null==(r=n.userForm.get("mobileNumber"))?null:r.touched)))}},dependencies:[l.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,yt.TO],styles:[".form-button[_ngcontent-%COMP%]{align-items:center;border:0 solid #E2E8F0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;box-sizing:border-box;display:inline-flex;font-size:.8rem;font-weight:550;height:auto;justify-content:center;overflow-wrap:break-word;padding:5px;text-decoration:none;width:100%;border-radius:8px;cursor:pointer;user-select:none;-webkit-user-select:none;touch-action:manipulation;background:linear-gradient(to right,#32a852,#008554);color:#fff}.user-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550}"]})}return i})();function Mt(i,s){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-loading"),t.qZA())}function Pt(i,s){1&i&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._uU(3,"No questions found."),t.qZA()()())}function St(i,s){1&i&&t._UZ(0,"app-user-add",34)}function kt(i,s){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.AsE(" ",e.name," - ",e.mobileNumber," ")}}function Ft(i,s){if(1&i&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div",35)(3,"ol",36),t.YNc(4,kt,2,2,"li",37),t.qZA()()()()),2&i){const e=s.ngIf;t.xp6(4),t.Q6J("ngForOf",e)}}function Nt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"No users available."),t.qZA())}function Dt(i,s){1&i&&t._UZ(0,"app-user-add",38)}function It(i,s){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.AsE(" ",e.name," - ",e.mobileNumber," ")}}function Yt(i,s){if(1&i&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div",35)(3,"ol",36),t.YNc(4,It,2,2,"li",37),t.qZA()()()()),2&i){const e=s.ngIf;t.xp6(4),t.Q6J("ngForOf",e)}}function Jt(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"No users available."),t.qZA())}function zt(i,s){if(1&i&&(t.TgZ(0,"mat-radio-button",43),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Et(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"mat-radio-group",41),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw().$implicit;return t.KtG(r.answer=n)}),t.YNc(2,zt,2,2,"mat-radio-button",42),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.MGl("name","multipleChoice_",e.question_id,""),t.Q6J("ngModel",e.answer),t.xp6(1),t.Q6J("ngForOf",e.options)}}function Qt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",19)(2,"input",44),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw().$implicit;return t.KtG(r.answer=n)})("ngModelChange",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.handleInputChange(n.question_id,n.answer))}),t.qZA()()()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngModel",e.answer)}}function $t(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",19)(2,"textarea",45),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw().$implicit;return t.KtG(r.answer=n)})("ngModelChange",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.handleInputChange(n.question_id,n.answer))}),t.qZA()()()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.MGl("name","longAnswer_",e.question_id,""),t.Q6J("ngModel",e.answer)}}function jt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"app-select",46),t.NdJ("optionSelected",function(n){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.handleInputChange(r.question_id,n))}),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("options",e.options)("selectedOption",e.answer)}}function Rt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",47),t.NdJ("ngModelChange",function(n){const a=t.CHM(e).$implicit,p=t.oxw(2).$implicit,m=t.oxw(3);return t.KtG(m.checkedValues[p.question_id][a]=n)})("change",function(){t.CHM(e);const n=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.handleCheckboxChange(n.question_id))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,o=t.oxw(2).$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngModel",n.checkedValues[o.question_id][e]),t.xp6(1),t.hij(" ",e," ")}}function Lt(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Rt,3,2,"div",37),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.options)}}function Bt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",48),t.NdJ("drop",function(n){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.handleDrop(n,r))})("dragover",function(n){t.CHM(e);const r=t.oxw(4);return t.KtG(r.handleDragOver(n))}),t.TgZ(1,"div",49),t._uU(2,"File Should be JPG, PNG, & JPEG and within 5MB only."),t.qZA(),t.TgZ(3,"input",50),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.displayFileName(n,r))}),t.qZA(),t.TgZ(4,"div",51)(5,"mat-icon"),t._uU(6,"upload"),t.qZA(),t.TgZ(7,"div",52),t._uU(8,"Drag & Drop"),t.qZA(),t.TgZ(9,"div"),t._uU(10,"or"),t.qZA(),t.TgZ(11,"label",53)(12,"span"),t._uU(13,"Click to upload"),t.qZA()(),t._UZ(14,"span",54),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(3),t.MGl("id","file-upload-",e.question_id,""),t.xp6(8),t.MGl("for","file-upload-",e.question_id,""),t.xp6(3),t.MGl("id","file-name-",e.question_id,"")}}function Ht(i,s){if(1&i&&(t.TgZ(0,"div",15)(1,"div",39),t._uU(2),t.qZA(),t.YNc(3,Et,3,3,"div",0),t.YNc(4,Qt,3,1,"div",0),t.YNc(5,$t,3,2,"div",0),t.YNc(6,jt,2,2,"div",0),t.YNc(7,Lt,2,1,"div",0),t.YNc(8,Bt,15,3,"div",40),t.qZA()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.question_text),t.xp6(1),t.Q6J("ngIf","multipleChoice"===e.question_type),t.xp6(1),t.Q6J("ngIf","shortAnswer"===e.question_type),t.xp6(1),t.Q6J("ngIf","longAnswer"===e.question_type),t.xp6(1),t.Q6J("ngIf","selectAnswer"===e.question_type),t.xp6(1),t.Q6J("ngIf","checkbox"===e.question_type),t.xp6(1),t.Q6J("ngIf","upload"===e.question_type)}}function Gt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",6)(3,"div",7),t._uU(4),t.qZA(),t.TgZ(5,"button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.collectFormData())}),t._uU(6,"Submit"),t.qZA()()(),t.TgZ(7,"div",9)(8,"form",10)(9,"mat-card")(10,"mat-card-content")(11,"div",11)(12,"div",6)(13,"div",7),t._uU(14,"Required"),t.qZA(),t.TgZ(15,"mat-icon",12),t._uU(16),t.qZA()(),t._UZ(17,"hr"),t.TgZ(18,"div",13)(19,"div",14)(20,"div",15)(21,"label",16),t._uU(22,"Select Authorizer "),t.TgZ(23,"span",17),t._uU(24,"*"),t.qZA()(),t.TgZ(25,"app-select2",18),t.NdJ("optionSelected",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onOptionSelected(n))}),t.qZA()(),t.TgZ(26,"div",15)(27,"label",16),t._uU(28,"Start Date "),t.TgZ(29,"span",17),t._uU(30,"*"),t.qZA()(),t.TgZ(31,"div",19),t._UZ(32,"input",20),t.qZA(),t.TgZ(33,"label",16),t._uU(34,"Start Time "),t.TgZ(35,"span",17),t._uU(36,"*"),t.qZA()(),t.TgZ(37,"div",19),t._UZ(38,"input",21),t.qZA()(),t.TgZ(39,"div",15)(40,"label",16),t._uU(41,"End Date "),t.TgZ(42,"span",17),t._uU(43,"*"),t.qZA()(),t.TgZ(44,"div",19),t._UZ(45,"input",22),t.qZA(),t.TgZ(46,"label",16),t._uU(47,"End Time "),t.TgZ(48,"span",17),t._uU(49,"*"),t.qZA()(),t.TgZ(50,"div",19),t._UZ(51,"input",23),t.qZA()(),t.TgZ(52,"div",15)(53,"div",24)(54,"div",16),t._uU(55,"Worker"),t.qZA(),t.TgZ(56,"div",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.worker())}),t._uU(57," + Add"),t.qZA()(),t.YNc(58,St,1,0,"app-user-add",26),t.YNc(59,Ft,5,1,"div",27),t.ALo(60,"async"),t.YNc(61,Nt,2,0,"ng-template",null,28,t.W1O),t.qZA(),t.TgZ(63,"div",15)(64,"div",24)(65,"div",16),t._uU(66,"Contractor"),t.qZA(),t.TgZ(67,"div",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.contractor())}),t._uU(68," + Add"),t.qZA()(),t.YNc(69,Dt,1,0,"app-user-add",29),t.YNc(70,Yt,5,1,"div",27),t.ALo(71,"async"),t.YNc(72,Jt,2,0,"ng-template",null,28,t.W1O),t.qZA(),t.TgZ(74,"div",15)(75,"label",16),t._uU(76,"Location "),t.TgZ(77,"span",17),t._uU(78,"*"),t.qZA()(),t.TgZ(79,"div",19),t._UZ(80,"textarea",30),t.qZA()(),t.TgZ(81,"div",15)(82,"label",16),t._uU(83,"Remarks "),t.TgZ(84,"span",17),t._uU(85,"*"),t.qZA()(),t.TgZ(86,"div",19),t._UZ(87,"textarea",31),t.qZA()()()()()()()()(),t.TgZ(88,"div",32)(89,"mat-card")(90,"mat-card-content")(91,"div",11)(92,"div",6)(93,"div",7),t._uU(94),t.qZA(),t.TgZ(95,"mat-icon",12),t._uU(96),t.qZA()(),t._UZ(97,"hr"),t.TgZ(98,"div",13),t.YNc(99,Ht,9,7,"div",33),t.qZA()()()()()()}if(2&i){const e=t.MAs(62),o=t.oxw(2);t.xp6(4),t.Oqu(o.categoryDetails.subtitle),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(8),t.Oqu(o.categoryDetails.icon),t.xp6(9),t.Q6J("options",o.authorizer)("displayField","full_name")("valueField","user_id"),t.xp6(33),t.Q6J("ngIf",o.toggle1),t.xp6(1),t.Q6J("ngIf",t.lcZ(60,15,o.usersWorkers$))("ngIfElse",e),t.xp6(10),t.Q6J("ngIf",o.toggle2),t.xp6(1),t.Q6J("ngIf",t.lcZ(71,17,o.usersContractors$))("ngIfElse",e),t.xp6(24),t.Oqu(o.formDetails.form_name),t.xp6(2),t.Oqu(o.categoryDetails.icon),t.xp6(3),t.Q6J("ngForOf",o.questions)}}function Kt(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",1),t.YNc(2,Pt,4,0,"div",2),t.YNc(3,Gt,100,19,"div",2),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",0===e.questions.length),t.xp6(1),t.Q6J("ngIf",0!==e.questions.length)}}let Vt=(()=>{class i{constructor(e,o,n,r,a,p,m,h,ze,Ee){this.fb=e,this.dataService=o,this.route=n,this.snackBar=r,this.router=a,this.cookieService=p,this.encryptService=m,this.userDataService=h,this.loadingService=ze,this.dialog=Ee,this.unsubscribe$=new Ct.x,this.questions=[],this.toggle1=!1,this.toggle2=!1,this.workersData=[],this.contractorsData=[],this.checkedValues={},this.authorizerControl=new c.NI("",c.kI.required),this.initializeForm()}ngOnInit(){this.loadingService.isPageLoading(!0),this.initializeData()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}initializeForm(){this.form=this.fb.group({authorizer:this.authorizerControl,startDate:["",c.kI.required],startTime:["",c.kI.required],endDate:["",c.kI.required],endTime:["",c.kI.required],location:["",c.kI.required],remarks:["",c.kI.required]})}initializeData(){this.route.params.pipe((0,y.R)(this.unsubscribe$)).subscribe(e=>{this.type=e.type,this.categoryID=e.categoryID,this.formId=e.formId,this.categoryDetails=this.encryptService.decryptData(this.cookieService.get("_cat_dtls")),this.formDetails=this.encryptService.decryptData(this.cookieService.get("_frm_dtls"));const o=this.encryptService.decryptData(this.cookieService.get("_usr_dtls"));this.department_id=o.department_id,this.user_id=o.user_id,(0,P.a)([this.dataService.getQuestions(this.formId),this.dataService.getAuthorizer(this.department_id)]).pipe((0,y.R)(this.unsubscribe$)).subscribe(([n,r])=>{this.questions=n.questions.map(a=>({...a,options:a.options?[...a.options.sort()]:[],answer:"",attachment:null})),this.questions.sort((a,p)=>a.question_text.localeCompare(p.question_text)),this.authorizer=r.map(a=>({full_name:`${a.first_name} ${a.last_name}`,user_id:a.user_id})),this.loadingService.isPageLoading(!1),this.initializeCheckedValues()},n=>{this.loadingService.isPageLoading(!1)}),this.usersWorkers$=this.userDataService.getUsers$("workers"),this.usersContractors$=this.userDataService.getUsers$("contractors")})}initializeCheckedValues(){this.questions.forEach(e=>{"checkbox"===e.question_type&&(this.checkedValues[e.question_id]={},e.options.forEach(o=>{this.checkedValues[e.question_id][o]=!1}))})}worker(){this.toggle1=!this.toggle1}contractor(){this.toggle2=!this.toggle2}collectFormData(){this.form.invalid?this.snackBar.open("All fields marked with * are required.","Close",{duration:3e3}):(0,P.a)([this.usersWorkers$,this.usersContractors$]).pipe((0,y.R)(this.unsubscribe$)).subscribe(([e,o])=>{this.workersData=e,this.contractorsData=o;const n={requestedBy:this.user_id,formId:this.formId,categoryID:this.categoryID,authorizer:this.form.value.authorizer,startDate:this.form.value.startDate,startTime:this.form.value.startTime,endDate:this.form.value.endDate,endTime:this.form.value.endTime,location:this.form.value.location,remarks:this.form.value.remarks,workers:this.workersData,contractors:this.contractorsData,questions:this.questions.map(r=>({question_id:r.question_id,question_text:r.question_text,question_type:r.question_type,options:r.options,answer:r.answer,attachment:r.attachment}))};n&&this.openConfirmDialog(n)},e=>console.error(e))}onOptionSelected(e){this.authorizerControl.setValue(e.user_id)}handleInputChange(e,o){const n=this.questions.findIndex(r=>r.question_id===e);-1!==n&&(this.questions[n].answer=o)}handleCheckboxChange(e){const o=this.questions.findIndex(n=>n.question_id===e);if(-1!==o){const n=this.checkedValues[e],r=Object.keys(n).filter(a=>n[a]).join(":");this.questions[o].answer=r}}handleDragOver(e){e.preventDefault()}displayFileName(e,o){const n=e.target.files[0];if(n){this.readFile(n,o);const r=document.getElementById(`file-name-${o.question_id}`);r&&(r.textContent=`Selected File: ${n.name}`)}}handleDrop(e,o){e.preventDefault();const n=e.dataTransfer.files[0];if(n){this.readFile(n,o);const r=document.getElementById(`file-name-${o.question_id}`);r&&(r.textContent=`Selected File: ${n.name}`)}}readFile(e,o){const n=new FileReader;n.onload=()=>{o.attachment={file_name:e.name,data:n.result}},n.readAsDataURL(e)}openConfirmDialog(e){const o=new _.vA;o.data={data:e},this.dialog.open(bt,o).afterClosed().subscribe(r=>{"Success"===r?(this.openSnackBar("Operation successful","Close"),this.router.navigate(["/u/h"])):"notSure"===r?this.openSnackBar("Operation status: Not sure","Close"):r instanceof Error?this.openSnackBar("An error occurred: "+r.message,"Close"):this.openSnackBar("Unknown result: "+r,"Close")})}openSnackBar(e,o){this.snackBar.open(e,o,{duration:5e3})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(c.qu),t.Y36(f),t.Y36(g.gz),t.Y36(w.ux),t.Y36(g.F0),t.Y36(b.N),t.Y36(Z.U),t.Y36(k),t.Y36(x.b),t.Y36(_.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-form"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],["class","row pt-2 mb-2",4,"ngIf"],[1,"row","pt-2","mb-2"],[1,"col-12"],[1,"alert","alert-warning"],[1,"col-12","mb-2","d-flex","justify-content-between","align-items-center"],[1,"title"],["mat-raised-button","",3,"click"],[1,"col-lg-4","col-md-12","col-sm-12","mb-2"],[3,"formGroup"],[1,"row","mb-2"],[1,"icon"],[1,"col-12","mb-12"],[1,"row"],[1,"col-12","mb-2"],[1,"reuired-title"],[1,"red"],[3,"options","displayField","valueField","optionSelected"],[1,"custom-form-input"],["type","date","formControlName","startDate"],["type","time","formControlName","startTime"],["type","date","formControlName","endDate"],["type","time","formControlName","endTime"],[1,"d-flex","justify-content-between","align-items-center"],[1,"add-button",3,"click"],["userType","workers",4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],["noUsers",""],["userType","contractors",4,"ngIf"],["formControlName","location"],["formControlName","remarks"],[1,"col-lg-8","col-md-12","col-sm-12","mb-2"],["class","col-12 mb-2",4,"ngFor","ngForOf"],["userType","workers"],[1,"card","worker-card"],[1,"user-list"],[4,"ngFor","ngForOf"],["userType","contractors"],[1,"question","mb-1"],["class","upload-container",3,"drop","dragover",4,"ngIf"],[3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text",3,"ngModel","ngModelChange"],[3,"ngModel","name","ngModelChange"],[3,"options","selectedOption","optionSelected"],[3,"ngModel","ngModelChange","change"],[1,"upload-container",3,"drop","dragover"],[1,"question-upload"],["type","file",1,"input-file",3,"id","change"],[1,"text-center"],[1,"drag-drop"],[1,"file-label",3,"for"],[1,"file-name",3,"id"]],template:function(o,n){1&o&&(t.YNc(0,Mt,2,0,"div",0),t.YNc(1,Kt,4,2,"div",0)),2&o&&(t.Q6J("ngIf",n.loadingService.pageLoading),t.xp6(1),t.Q6J("ngIf",!n.loadingService.pageLoading))},dependencies:[l.sg,l.O5,S.lW,T.a8,T.dn,q.Hw,c._Y,c.Fj,c.JJ,c.JL,c.On,c.sg,c.u,wt.oG,F.VQ,F.U0,C.N,qt,A,At,l.Ov],styles:[".red[_ngcontent-%COMP%]{color:red}.title[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.question[_ngcontent-%COMP%]{font-size:.9rem;font-weight:550}.question-upload[_ngcontent-%COMP%]{font-size:.7rem;font-size:550}.drag-drop[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.upload-container[_ngcontent-%COMP%]{width:80%;height:200px;border:1px dashed #008554;border-radius:5px;overflow:hidden;display:flex;flex-direction:column;justify-content:center;background-color:#f1f1f1;align-items:center}.input-file[_ngcontent-%COMP%]{display:none}.file-label[_ngcontent-%COMP%]{padding:10px;font-size:.7rem;font-weight:550;background-color:#008554;color:#fff;border:none;border-radius:5px;cursor:pointer;display:flex;align-items:center;box-shadow:#32325d40 0 2px 5px -1px,#0000004d 0 1px 3px -1px}.file-label[_ngcontent-%COMP%]:hover{background-color:#24ad7b;box-shadow:#63636333 0 2px 8px}.file-name[_ngcontent-%COMP%]{margin-top:10px;text-align:center;color:#333;font-weight:700}.icon[_ngcontent-%COMP%]{margin-right:10px}textarea[_ngcontent-%COMP%]{min-height:80px}.add-button[_ngcontent-%COMP%]{cursor:pointer;color:#00008b;font-weight:550}.worker-card[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #dfe1e5;border-radius:5px;padding:5px;font-size:.8rem;width:100%;box-sizing:border-box;transition:border-color .3s,border-width .3s;background-color:#f1f1f1}.reuired-title[_ngcontent-%COMP%]{font-weight:550;font-size:.8rem}.my-dialog.ng-enter[_ngcontent-%COMP%], .my-dialog.ng-leave[_ngcontent-%COMP%]{transition:transform .5s}.my-dialog.ng-enter[_ngcontent-%COMP%], .my-dialog.ng-leave.ng-leave-active[_ngcontent-%COMP%]{transform:translate(100%)}.my-dialog.ng-enter.ng-enter-active[_ngcontent-%COMP%], .my-dialog.ng-leave[_ngcontent-%COMP%]{transform:translate(0)}"]})}return i})();function Wt(i,s){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-loading"),t.qZA())}function Xt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"i",13),t._uU(8),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()()()(),t.TgZ(11,"div",14)(12,"div",15),t._uU(13),t.qZA()()(),t.TgZ(14,"div",16),t._UZ(15,"div",17),t.TgZ(16,"div",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(3);return t.KtG(a.proceed(r))}),t.TgZ(17,"div"),t._uU(18,"Proceed"),t.qZA()()()()()()}if(2&i){const e=s.$implicit,o=t.oxw(3);t.xp6(8),t.Oqu(o.categoryDetails.icon),t.xp6(2),t.Oqu(o.categoryDetails.subtitle),t.xp6(3),t.Oqu(e.form_name)}}function te(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Xt,19,3,"div",5),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.forms)}}function ee(i,s){1&i&&(t.TgZ(0,"div",19)(1,"p",20),t._uU(2,"No Data Found! Please contact the administrator."),t.qZA()())}function ie(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",1)(2,"div",2),t.YNc(3,te,2,1,"ng-container",3),t.qZA()(),t.YNc(4,ee,3,0,"ng-template",null,4,t.W1O),t.qZA()),2&i){const e=t.MAs(5),o=t.oxw();t.xp6(3),t.Q6J("ngIf",o.forms.length>0)("ngIfElse",e)}}let oe=(()=>{class i{constructor(e,o,n,r,a,p,m,h){this.dataService=e,this.route=o,this.snackBar=n,this.router=r,this.cookieService=a,this.encryptService=p,this.loadingService=m,this.alertService=h}ngOnInit(){try{const e=this.cookieService.get("_cat_dtls");if(!e)throw new Error("Category details cookie is missing");this.categoryDetails=this.encryptService.decryptData(e),this.route.params.subscribe(o=>{if(this.type=o.type,this.categoryID=o.categoryID,this.loadingService.isPageLoading(!0),this.forms=[],!this.categoryID)throw new Error("Category ID is missing in route parameters");this.loadForms(this.categoryID)})}catch(e){console.error("Error during initialization:",e),this.snackBar.open("An error occurred during initialization. Please try again.","Close",{duration:3e3}),this.alertService.showAlert("Error loading data. Please try again later.","error",3e3)}}loadForms(e){this.dataService.getAllForms(e).subscribe(o=>{this.forms=o,this.loadingService.isPageLoading(!1)},o=>{this.loadingService.isPageLoading(!1),this.alertService.showAlert("No data Found.","error",3e3)})}proceed(e){try{const o=this.encryptService.encryptData(e);this.cookieService.set("_frm_dtls",o,{path:"/"}),this.router.navigate(["/u/f",this.type,this.categoryID,e.form_id])}catch(o){console.error("Error during proceed:",o),this.snackBar.open("An error occurred while processing your request. Please try again.","Close",{duration:3e3}),this.alertService.showAlert("Error loading data. Please try again later.","error",3e3)}}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(f),t.Y36(g.gz),t.Y36(w.ux),t.Y36(g.F0),t.Y36(b.N),t.Y36(Z.U),t.Y36(x.b),t.Y36(M.c))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-form-select"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid"],[1,"row","pt-3","mb-2"],[4,"ngIf","ngIfElse"],["noCards",""],["class","col-lg-3 col-md-4 col-sm-6 mb-2",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6","mb-2"],[1,"card","card-form"],[1,"card-body","d-flex","flex-column"],[1,"content-wrapper","flex-grow-1"],[1,"row","mb-3"],[1,"col-12"],[1,"title"],[1,"material-icons","icon-color"],[1,"row"],[1,"col-12","mb-1","time-title"],[1,"row","mt-auto"],[1,"col-6"],[1,"col-6","text-end","button",3,"click"],[1,"col-12","text-center"],[1,"alert","alert-warning"]],template:function(o,n){1&o&&(t.YNc(0,Wt,2,0,"div",0),t.YNc(1,ie,6,2,"div",0)),2&o&&(t.Q6J("ngIf",n.loadingService.pageLoading),t.xp6(1),t.Q6J("ngIf",!n.loadingService.pageLoading))},dependencies:[l.sg,l.O5,C.N],styles:[".card-form[_ngcontent-%COMP%]{border-left:10px solid #008554;height:150px;display:flex;flex-direction:column}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.content-wrapper[_ngcontent-%COMP%]{flex-grow:1}.title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:550;display:flex;align-items:center}.title[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{font-size:1.2rem;margin-right:5px;color:#000}.time-title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:550}.date-title[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.organization[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550}.form-name[_ngcontent-%COMP%]{font-size:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.button[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#7771eb}"]})}return i})();var ne=d(8268),re=d(1170),se=d(9683),ae=d(3279),de=d(3690);function ce(i,s){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-loading"),t.qZA())}function le(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"Your Profile"),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),t._uU(12),t.qZA(),t.TgZ(13,"div",10),t._uU(14),t.qZA(),t.TgZ(15,"div",11),t._uU(16),t.qZA()(),t.TgZ(17,"div",12),t._UZ(18,"img",13),t.qZA()()()(),t.TgZ(19,"div",4)(20,"div",5)(21,"div",6),t._uU(22,"Contact Details"),t.qZA()(),t.TgZ(23,"div",7)(24,"div",8)(25,"div",14)(26,"div",10),t._uU(27,"Personal Mail "),t.qZA(),t.TgZ(28,"div",15),t._UZ(29,"input",16),t.qZA()(),t.TgZ(30,"div",14)(31,"div",10),t._uU(32,"Company Email "),t.qZA(),t.TgZ(33,"div",15),t._UZ(34,"input",16),t.qZA()(),t.TgZ(35,"div",14)(36,"div",10),t._uU(37,"Contact No "),t.qZA(),t.TgZ(38,"div",15),t._UZ(39,"input",16),t.qZA()()()()()(),t.TgZ(40,"div",17)(41,"div",4)(42,"div",5)(43,"div",6),t._uU(44,"Organizations"),t.qZA()(),t.TgZ(45,"div",7)(46,"div",8)(47,"div",14)(48,"div",10),t._uU(49,"Name of the Organization "),t.qZA(),t.TgZ(50,"div",15),t._UZ(51,"input",16),t.qZA()(),t.TgZ(52,"div",14)(53,"div",10),t._uU(54,"Organization Address"),t.qZA(),t.TgZ(55,"div",15),t._UZ(56,"input",16),t.qZA()(),t.TgZ(57,"div",14)(58,"div",10),t._uU(59,"Plant Name"),t.qZA(),t.TgZ(60,"div",15),t._UZ(61,"input",16),t.qZA()(),t.TgZ(62,"div",14)(63,"div",10),t._uU(64,"Plant Location"),t.qZA(),t.TgZ(65,"div",15),t._UZ(66,"input",16),t.qZA()()()()(),t.TgZ(67,"div",4)(68,"div",5)(69,"div",6),t._uU(70,"Setting"),t.qZA()(),t.TgZ(71,"div",7)(72,"div",18)(73,"div",19)(74,"div",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.openEditProfile())}),t._uU(75,"Edit Details"),t.qZA()(),t.TgZ(76,"div",19)(77,"div",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.openChangePassword())}),t._uU(78,"Change Password"),t.qZA()(),t.TgZ(79,"div",19)(80,"div",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.openEditContact())}),t._uU(81,"Edit Contact"),t.qZA()(),t.TgZ(82,"div",19)(83,"div",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.openChangeProfile())}),t._uU(84,"Change Profile"),t.qZA()(),t.TgZ(85,"div",19)(86,"div",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.openContactAdmin())}),t._uU(87,"Contact Admin "),t.qZA()(),t.TgZ(88,"div",19)(89,"div",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.openRaiseAnIssue())}),t._uU(90,"Raise an Issue"),t.qZA()()(),t.TgZ(91,"div",21)(92,"div",22)(93,"div",10),t._uU(94,"Instructions:"),t.qZA(),t.TgZ(95,"ul",10)(96,"li"),t._uU(97,"Modify personal information."),t.qZA(),t.TgZ(98,"li"),t._uU(99,"Change password and log out immediately after."),t.qZA(),t.TgZ(100,"li"),t._uU(101,"Update contact information."),t.qZA(),t.TgZ(102,"li"),t._uU(103,"Upload an image less than 500 KB in PNG or JPG format."),t.qZA(),t.TgZ(104,"li"),t._uU(105,"Contact organization admin for messages or coordination."),t.qZA(),t.TgZ(106,"li"),t._uU(107,"Report dashboard bugs or defects."),t.qZA()()()()()()()()()()}if(2&i){const e=t.oxw();t.xp6(12),t.AsE("",e.user.first_name," ",e.user.last_name,""),t.xp6(2),t.Oqu(e.user.designation||"Employee"),t.xp6(2),t.Oqu(e.user.department_name),t.xp6(2),t.Q6J("src",e.user.profile.profile_photo||"../../../assets/img/face.png",t.LSH),t.xp6(11),t.s9C("value",e.user.personal_email),t.xp6(5),t.s9C("value",e.user.company_email),t.xp6(5),t.s9C("value",e.user.contact_no),t.xp6(12),t.s9C("value",e.user.organization_name),t.xp6(5),t.s9C("value",e.user.organization_address),t.xp6(5),t.s9C("value",e.user.plant_name),t.xp6(5),t.s9C("value",e.user.plant_location)}}let pe=(()=>{class i{constructor(e,o,n,r,a,p,m,h){this.dataService=e,this.snackBar=o,this.cookieService=n,this.loadingService=r,this.encryptService=a,this.authService=p,this.dialog=m,this.router=h,this.user={},this.errorMessage=""}ngOnInit(){this.loadingService.isPageLoading(!0),this.user_id=this.encryptService.decryptData(this.cookieService.get("_user_id")),this.user_id&&this.fetchProfileDetails()}fetchProfileDetails(){this.dataService.getProfileDetails(this.user_id).subscribe(e=>{this.user=e[0],this.loadingService.isPageLoading(!1)},e=>{console.error("Error fetching user profile details:",e),this.loadingService.isPageLoading(!1),this.handleError("Failed to fetch user profile details. Please try again later.")})}openEditProfile(){const e={user_id:this.user_id,first_name:this.user.first_name,last_name:this.user.last_name,designation:this.user.designation||"Employee",department:this.user.department_name},o=new _.vA;o.data={user:e},this.dialog.open(ne.e,o).afterClosed().subscribe(r=>{"success"===r&&this.fetchProfileDetails()})}openChangePassword(){const e={user_id:this.user_id},o=new _.vA;o.data={user:e},this.dialog.open(re.p,o).afterClosed().subscribe(r=>{"success"===r&&this.authService.logout()})}openEditContact(){const e={user_id:this.user_id,personal_email:this.user.personal_email,contact_no:this.user.contact_no,company_email:this.user.company_email},o=new _.vA;o.data={user:e},this.dialog.open(se.t,o).afterClosed().subscribe(r=>{"success"===r&&this.fetchProfileDetails()})}openChangeProfile(){const e={user_id:this.user_id,photo:this.user.profile.profile_photo},o=new _.vA;o.data={user:e},this.dialog.open(ae.y,o).afterClosed().subscribe(r=>{"success"===r&&this.fetchProfileDetails()})}openContactAdmin(){}openRaiseAnIssue(){}handleSuccess(e){this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom"})}handleError(e){this.errorMessage=e,this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom"})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(f),t.Y36(w.ux),t.Y36(b.N),t.Y36(x.b),t.Y36(Z.U),t.Y36(de.e),t.Y36(_.uw),t.Y36(g.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-profile"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid"],[1,"row","pt-3","mb-2"],[1,"col-lg-4","col-md-6","col-sm-12","mb-3"],[1,"card","card-profile","mb-3"],[1,"card-header","head"],[1,"pt-2"],[1,"card-body"],[1,"row"],[1,"col-8"],[1,"content"],[1,"content",2,"font-style","italic"],[1,"col-4","d-flex","align-items-center"],[1,"profile-img",3,"src"],[1,"col-12","mb-2"],[1,"custom-form-input"],["type","text","readonly","",3,"value"],[1,"col-lg-8","col-md-6","col-sm-12","mb-3"],[1,"row","d-flex","justify-content-center"],[1,"col-lg-2","col-md-4","col-sm-6","mb-2","text-center"],[1,"content","link",3,"click"],[1,"row","mb-2"],[1,"col-12"]],template:function(o,n){1&o&&(t.YNc(0,ce,2,0,"div",0),t.YNc(1,le,108,12,"div",0)),2&o&&(t.Q6J("ngIf",n.loadingService.pageLoading),t.xp6(1),t.Q6J("ngIf",!n.loadingService.pageLoading))},dependencies:[l.O5,C.N],styles:[".profile-img[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;object-fit:cover;margin-top:-75px;box-shadow:#63636333 0 2px 8px}.card-profile[_ngcontent-%COMP%]{border:none}.card-profile[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{height:50px;font-size:1rem;font-weight:550;background:linear-gradient(180deg,#00a366 0%,#047d4b 100%);color:#f5f5f5}.card-profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-profile[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#00f;cursor:pointer}"]})}return i})();var ue=d(9846),ge=d(4456),_e=d.n(ge),me=d(907);function ve(i,s){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-loading"),t.qZA())}function fe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",38),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.generatePDF())}),t._uU(1," Print "),t.TgZ(2,"mat-icon",39),t._uU(3,"print"),t.qZA()()}}function he(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",30),t._uU(2),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.mobile_number)}}function xe(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",30),t._uU(2),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.mobile_number)}}function Ce(i,s){1&i&&(t.TgZ(0,"div",30),t._uU(1,"Yes"),t.qZA())}function be(i,s){1&i&&(t.TgZ(0,"div",30),t._uU(1,"No"),t.qZA())}function Ze(i,s){if(1&i&&(t.TgZ(0,"div",29)(1,"div",42)(2,"div",30),t._uU(3),t.qZA()(),t.TgZ(4,"div",43),t._uU(5),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.questionText),t.xp6(2),t.hij(" ",e.answer," ")}}function we(i,s){if(1&i&&(t.TgZ(0,"div",29)(1,"div",42)(2,"div",30),t._uU(3),t.qZA()(),t.TgZ(4,"div",43),t._uU(5),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.questionText),t.xp6(2),t.hij(" ",e.answer," ")}}const Te=function(i){return{"correct-answer":i}};function Oe(i,s){if(1&i&&(t.TgZ(0,"div",46)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=s.$implicit,o=t.oxw(2).$implicit;t.Q6J("ngClass",t.VKq(2,Te,o.answer.includes(e))),t.xp6(2),t.Oqu(e)}}function qe(i,s){if(1&i&&(t.TgZ(0,"div",29)(1,"div",42)(2,"div",30),t._uU(3),t.qZA()(),t.TgZ(4,"div",44),t.YNc(5,Oe,3,4,"div",45),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.questionText),t.xp6(2),t.Q6J("ngForOf",e.answer.split(":"))}}function ye(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",42)(2,"div",30),t._uU(3),t.qZA()(),t.TgZ(4,"div",47),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.openImage(n.attachment.data))}),t._uU(5),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.questionText),t.xp6(2),t.hij(" ",e.attachment.fileName," ")}}function Ue(i,s){1&i&&t._UZ(0,"hr",48)}function Ae(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ze,6,2,"div",40),t.YNc(2,we,6,2,"div",40),t.YNc(3,qe,6,2,"div",40),t.YNc(4,ye,6,2,"div",40),t.YNc(5,Ue,1,0,"hr",41),t.qZA()),2&i){const e=s.$implicit,o=s.last;t.xp6(1),t.Q6J("ngIf","multipleChoice"===e.questionType),t.xp6(1),t.Q6J("ngIf","shortAnswer"===e.questionType||"longAnswer"===e.questionType||"selectAnswer"===e.questionType),t.xp6(1),t.Q6J("ngIf","checkbox"===e.questionType),t.xp6(1),t.Q6J("ngIf","upload"===e.questionType),t.xp6(1),t.Q6J("ngIf",!o)}}function Me(i,s){if(1&i&&(t.TgZ(0,"div",21)(1,"div",49),t._UZ(2,"img",50),t.TgZ(3,"div",51),t._uU(4),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(4),t.AsE("",e.data.submission.authorizer.first_name," ",e.data.submission.authorizer.last_name,"")}}function Pe(i,s){1&i&&(t.TgZ(0,"div",21)(1,"div",52)(2,"div",53),t._uU(3,"Your application is rejected."),t.qZA()()())}function Se(i,s){1&i&&(t.TgZ(0,"div",21)(1,"div",52)(2,"div",53),t._uU(3,"Your application is revoked."),t.qZA()()())}function ke(i,s){1&i&&(t.TgZ(0,"div",21)(1,"div",52)(2,"div",53),t._uU(3,"Your application is extended."),t.qZA()()())}function Fe(i,s){1&i&&(t.TgZ(0,"div",21)(1,"div",52)(2,"div",53),t._uU(3,"Not Approved Yet!"),t.qZA()()())}const Ne=function(i,s,e,o){return{"status-approved":i,"status-rejected":s,"status-new":e,"status-unknown":o}};function De(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,fe,4,0,"div",4),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),t._UZ(10,"img",10),t.qZA(),t.TgZ(11,"div",11)(12,"div",12),t._uU(13),t.qZA(),t.TgZ(14,"div",13),t._uU(15),t.qZA()(),t.TgZ(16,"div",14),t._UZ(17,"img",15),t.qZA()(),t._UZ(18,"hr"),t.TgZ(19,"div",16)(20,"div",17)(21,"div",18),t._uU(22),t.qZA()(),t.TgZ(23,"div",19)(24,"div",18),t._uU(25,"Status :"),t.qZA(),t.TgZ(26,"span",20),t._uU(27),t.qZA()()(),t.TgZ(28,"div",21)(29,"div",3)(30,"div",22)(31,"div",23),t._uU(32,"WORKERS"),t.qZA(),t.TgZ(33,"div",24)(34,"div",25)(35,"div",26),t.YNc(36,he,5,2,"div",27),t.qZA(),t.TgZ(37,"div",17),t.YNc(38,xe,5,2,"div",27),t.qZA()()()()()(),t.TgZ(39,"div",21)(40,"div",28)(41,"div",22)(42,"div",23),t._uU(43,"LOCATION OF WORK"),t.qZA(),t.TgZ(44,"div",24)(45,"div",29)(46,"div",3)(47,"div",30),t._uU(48),t.qZA(),t.TgZ(49,"div",31),t._uU(50,"India"),t.qZA()()()()()(),t.TgZ(51,"div",32)(52,"div",22)(53,"div",23),t._uU(54,"DURATION OF WORK"),t.qZA(),t.TgZ(55,"div",33)(56,"div",29)(57,"div",34)(58,"div",31),t._uU(59,"Start Time"),t.qZA(),t.TgZ(60,"div",30),t._uU(61),t.qZA()(),t.TgZ(62,"div",34)(63,"div",31),t._uU(64,"End Time"),t.qZA(),t.TgZ(65,"div",30),t._uU(66),t.qZA()(),t.TgZ(67,"div",34)(68,"div",31),t._uU(69,"Extended"),t.qZA(),t.YNc(70,Ce,2,0,"div",35),t.YNc(71,be,2,0,"div",35),t.qZA()()()()()(),t.TgZ(72,"div",21)(73,"div",3)(74,"div",22)(75,"div",23),t._uU(76,"Measures"),t.qZA(),t.TgZ(77,"div",24),t.YNc(78,Ae,6,5,"div",27),t.qZA()()()(),t.TgZ(79,"div",21)(80,"div",3)(81,"div",22)(82,"div",23),t._uU(83,"Remarks"),t.qZA(),t.TgZ(84,"div",24)(85,"div",29)(86,"div",3)(87,"div",30),t._uU(88),t.qZA()()()()()()(),t.YNc(89,Me,5,2,"div",36),t.YNc(90,Pe,4,0,"div",36),t.YNc(91,Se,4,0,"div",36),t.YNc(92,ke,4,0,"div",36),t.YNc(93,Fe,4,0,"div",36),t._UZ(94,"hr"),t.TgZ(95,"div",21)(96,"div",37)(97,"div"),t._uU(98,"Powered By Senselive Technologies"),t.qZA()()()()()()()()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf","approved"===e.data.submission.status||"rejected"===e.data.submission.status),t.xp6(9),t.Oqu(e.data.submission.category_data.subtitle),t.xp6(2),t.lnq("Requested By ",e.data.submission.requested_by.first_name," ",e.data.submission.requested_by.last_name," on ",e.formatDate(e.data.submission.created_at),""),t.xp6(7),t.Oqu(e.data.submission.form_data.form_name),t.xp6(4),t.Q6J("ngClass",t.l5B(24,Ne,"approved"===e.data.submission.status,"rejected"===e.data.submission.status||"revoked"===e.data.submission.status,"opened"===e.data.submission.status,"approved"!==e.data.submission.status&&"rejected"!==e.data.submission.status&&"revoked"!==e.data.submission.status&&"opened"!==e.data.submission.status)),t.xp6(1),t.hij(" ",e.data.submission.status," "),t.xp6(9),t.Q6J("ngForOf",e.data.workers),t.xp6(2),t.Q6J("ngForOf",e.data.contractors),t.xp6(10),t.Oqu(e.data.submission.location),t.xp6(13),t.AsE("",e.formatDate(e.data.submission.start_date)," ",e.formatTime(e.data.submission.start_time),""),t.xp6(5),t.AsE("",e.formatDate(e.data.submission.end_date)," ",e.formatTime(e.data.submission.end_time),""),t.xp6(4),t.Q6J("ngIf","extended"===e.data.submission.status),t.xp6(1),t.Q6J("ngIf","extended"!==e.data.submission.status),t.xp6(7),t.Q6J("ngForOf",e.data.questions),t.xp6(10),t.Oqu(e.data.submission.remark),t.xp6(1),t.Q6J("ngIf","approved"===e.data.submission.status),t.xp6(1),t.Q6J("ngIf","rejected"===e.data.submission.status),t.xp6(1),t.Q6J("ngIf","revoked"===e.data.submission.status),t.xp6(1),t.Q6J("ngIf","extended"===e.data.submission.status),t.xp6(1),t.Q6J("ngIf","opened"===e.data.submission.status)}}const Ie=[{path:"h",component:ut},{path:"",redirectTo:"h",pathMatch:"full"},{path:"f/:type",component:xt},{path:"f/:type/:categoryID",component:oe},{path:"f/:type/:categoryID/:formId",component:Vt},{path:"profile",component:pe},{path:"view/:submission_id",component:(()=>{class i{constructor(e,o,n,r,a,p){this.dataService=e,this.route=o,this.snackBar=n,this.loadingService=r,this.datePipe=a,this.dialog=p}ngOnInit(){this.route.params.subscribe(e=>{this.submission_id=e.submission_id,this.fetchSubmission(this.submission_id)})}fetchSubmission(e){this.loadingService.isPageLoading(!0),this.dataService.getSubmissionDetails(e).subscribe(o=>{o.questions.sort((n,r)=>n.questionText.localeCompare(r.questionText)),this.data=o,this.loadingService.isPageLoading(!1)},o=>{this.loadingService.isPageLoading(!1),this.handleError("Failed to fetch submission details.")})}generatePDF(){const e=document.getElementById("pdf-content");if(e)try{e.classList.add("no-shadow"),_e()(e).then(o=>{e.classList.remove("no-shadow");const r=208*o.height/o.width,a=o.toDataURL("image/png"),p=new ue.kH("p","mm","a4");p.addImage(a,"PNG",0,0,208,r),p.save("hot-work-permit.pdf")})}catch(o){console.error("Error in generatePDF:",o),this.handleError("An error occurred while generating PDF.")}else this.handleError("No content found to generate PDF.")}handleError(e){this.snackBar.open(e,"Close",{duration:3e3})}openImage(e){const o=new _.vA;o.data={data:e},this.dialog.open(me.c,o).afterClosed().subscribe(r=>{})}formatDate(e){return this.datePipe.transform(e,"MMM d, y")??"Invalid Date"}formatTime(e){const[o,n,r]=e.split(":");let a=(+o%12||12).toString();return a+=":"+n+" ",a+=+o>=12?"PM":"AM",a}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(f),t.Y36(g.gz),t.Y36(w.ux),t.Y36(x.b),t.Y36(l.uU),t.Y36(_.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-view"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"row","pt-4","mb-2"],[1,"col-12"],["class","mb-1 Print","style","display: flex; align-items: center; justify-content: flex-end;",3,"click",4,"ngIf"],[1,"card","card-pdf"],["id","pdf-content",1,"card-body"],[1,"container-fluid"],[1,"row","pt-2","mb-4","d-flex","align-items-center"],[1,"col-2"],["src","../../../assets/senselivelogo.png",1,"img-fluid"],[1,"col-8","text-center"],[1,"title","mb-1"],[1,"sub-title"],[1,"col-2","text-end"],["src","../../../favicon.ico",1,"img-fluid"],[1,"row","mb-1"],[1,"col-6"],[1,"form-uid"],[1,"col-6","d-flex","justify-content-end","align-items-center"],[1,"status",3,"ngClass"],[1,"row","mb-3"],[1,"card","card-box"],[1,"box-header"],[1,"card-body"],[1,"row","card-box-line"],[1,"col-6","mb-1"],[4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-12","col-sm-12","mb-2"],[1,"row"],[1,"worker-name"],[1,"worker-mb"],[1,"col-lg-7","col-md-12","col-sm-12","mb-2"],[1,"card-body","card-box-line-2"],[1,"col-4"],["class","worker-name",4,"ngIf"],["class","row mb-3",4,"ngIf"],[1,"col-12","text-center","footer-text"],[1,"mb-1","Print",2,"display","flex","align-items","center","justify-content","flex-end",3,"click"],[1,"mat-16"],["class","row",4,"ngIf"],["style","margin-top: 5px; margin-bottom: 5px;",4,"ngIf"],[1,"col-lg-10","col-md-9","col-sm-12","d-flex","align-items-center"],[1,"col-lg-2","col-md-3","col-sm-12","answer"],[1,"col-lg-2","col-md-3","col-sm-12"],["class","answer",3,"ngClass",4,"ngFor","ngForOf"],[1,"answer",3,"ngClass"],[1,"col-lg-2","col-md-3","col-sm-12","answer","upload-text",3,"click"],[2,"margin-top","5px","margin-bottom","5px"],[1,"col-12","text-end"],["src","../../../assets/sign.png",1,"img-fluid","sign"],[1,"authorized"],[1,"col-12","text-center"],[1,"notApproved"]],template:function(o,n){1&o&&(t.YNc(0,ve,2,0,"div",0),t.YNc(1,De,99,29,"div",0)),2&o&&(t.Q6J("ngIf",n.loadingService.pageLoading),t.xp6(1),t.Q6J("ngIf",!n.loadingService.pageLoading))},dependencies:[l.mk,l.sg,l.O5,q.Hw,C.N],styles:['.card-pdf[_ngcontent-%COMP%]{border-radius:0;box-shadow:#0000003d 0 3px 8px}.no-shadow[_ngcontent-%COMP%]{box-shadow:none!important}.img-fluid[_ngcontent-%COMP%]{height:35px;width:auto}.card-pdf[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600}.card-pdf[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%], .card-pdf[_ngcontent-%COMP%]   .form-uid[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550}.card-pdf[_ngcontent-%COMP%]   .form-uid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.card-box[_ngcontent-%COMP%]{border-radius:0}.card-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]{background:#f2f3f5;padding:5px;text-align:center;font-size:.9rem;font-weight:550;border-bottom:1px solid #d9dadb}.card-box[_ngcontent-%COMP%]   .worker-name[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550}.card-box[_ngcontent-%COMP%]   .worker-mb[_ngcontent-%COMP%]{font-size:.8rem}.authorized[_ngcontent-%COMP%]{font-size:.9rem;font-weight:550}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550}@media screen and (max-width: 768px){.img-fluid[_ngcontent-%COMP%]{height:25px;width:auto}.card-pdf[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem}.card-pdf[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:.6rem}}@media screen and (max-width: 576px){.img-fluid[_ngcontent-%COMP%]{height:25px;width:auto}.card-pdf[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem}.card-pdf[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:.6rem}}.card-box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{position:relative}.card-box[_ngcontent-%COMP%]   .card-box-line[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:50%;width:1px;background-color:#ccc;transform:translate(-50%)}.card-box[_ngcontent-%COMP%]   .card-box-line-2[_ngcontent-%COMP%]:before, .card-box[_ngcontent-%COMP%]   .card-box-line-2[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:1px;background-color:#ccc;transform:translateY(0)}.card-box[_ngcontent-%COMP%]   .card-box-line-2[_ngcontent-%COMP%]:before{left:33.33%}.card-box[_ngcontent-%COMP%]   .card-box-line-2[_ngcontent-%COMP%]:after{left:66.66%}.form-button[_ngcontent-%COMP%]{align-items:center;border:0 solid #E2E8F0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;box-sizing:border-box;display:inline-flex;font-size:.8rem;font-weight:550;height:auto;justify-content:center;overflow-wrap:break-word;padding:7px;text-decoration:none;width:100%;border-radius:8px;cursor:pointer;user-select:none;-webkit-user-select:none;touch-action:manipulation;background:linear-gradient(to right,#32a852,#008554);color:#fff}.form-button-reject[_ngcontent-%COMP%]{align-items:center;border:0 solid #E2E8F0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;box-sizing:border-box;display:inline-flex;font-size:.8rem;font-weight:550;height:auto;justify-content:center;overflow-wrap:break-word;padding:7px;text-decoration:none;width:100%;border-radius:8px;cursor:pointer;user-select:none;-webkit-user-select:none;touch-action:manipulation;background:linear-gradient(to right,#f51d1d,#cc1212);color:#fff}.multipleChoice-box[_ngcontent-%COMP%]{font-size:.75rem;font-weight:550;padding:2px;border-radius:2px;border:1px solid grey;margin:5px;height:auto;width:35px;text-align:center}.true[_ngcontent-%COMP%]{background-color:#c9f0bd}.notApproved[_ngcontent-%COMP%]{font-size:1rem;color:#8b0000;font-weight:550}.Print[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550;color:#008554;cursor:pointer}.status[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550}.status-approved[_ngcontent-%COMP%]{background:linear-gradient(90deg,#008554 0%,#035539 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.status-rejected[_ngcontent-%COMP%]{color:red}.status-new[_ngcontent-%COMP%]{color:#00f}.status-unknown[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffff00,#ffaa00);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.answer[_ngcontent-%COMP%]{font-size:.9rem;font-weight:550}.upload-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;color:#00f}']})}return i})()}];let Ye=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(Ie),g.Bz]})}return i})(),Je=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({providers:[l.uU],imports:[l.ez,Ye,N.q]})}return i})()}}]);